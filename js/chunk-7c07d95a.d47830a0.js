(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c07d95a"],{3593:function(e,t,n){},"3f5e":function(e,t,n){"use strict";var s=n("47ea"),i=n.n(s);i.a},"47ea":function(e,t,n){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var s=n("1d80"),i=n("5899"),o="["+i+"]",r=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(s(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"6baf":function(e,t,n){"use strict";var s=n("f932"),i=n.n(s);i.a},7156:function(e,t,n){var s=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var o,r;return i&&"function"==typeof(o=t.constructor)&&o!==n&&s(r=o.prototype)&&r!==n.prototype&&i(e,r),e}},"7fd2":function(e,t,n){"use strict";var s=n("3593"),i=n.n(s);i.a},8035:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"judge-result"},[-1!==e.result?[n("Icon",{attrs:{type:e.JUDGE_RESULT[e.result].icon,color:e.JUDGE_RESULT[e.result].color}}),n("span",{class:e.judgeResult2Class(e.result)+" hover"},[e._v(e._s(e.judgeResult2Text(e.result)))])]:e._e()],2)},i=[],o=(n("a9e3"),n("c9d9")),r={props:{result:{type:Number,default:-1},abbr:{type:Boolean,default:!1}},computed:{JUDGE_RESULT:function(){return o["d"]}},methods:{judgeResult2Text:function(e){return-1===e?"":o["d"][e][this.abbr?"abbr":"name"]},judgeResult2Class:function(e){return-1===e?"":o["d"][e].css}}},a=r,l=(n("7fd2"),n("2877")),u=Object(l["a"])(a,s,i,!1,null,"458a95ec",null);t["a"]=u.exports},8361:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Card",{staticClass:"filter",attrs:{"dis-hover":"",padding:0}},[n("h3",{staticStyle:{display:"inline"},attrs:{slot:"title"},slot:"title"},[e._v("Filter")]),n("div",{staticClass:"btns card-extra",attrs:{slot:"extra"},slot:"extra"},[n("Button",{attrs:{type:"text"},on:{click:e.onFiltering}},[e._v("Filter")]),n("Button",{attrs:{type:"text"},on:{click:e.onReset}},[e._v("Reset")])],1),n("div",{staticClass:"clearfix filter-sets"},[n("div",[n("div",{staticClass:"filter-title"},[e._v("By Username")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Username"},on:{"on-enter":e.onFiltering},model:{value:e.filterForm.username,callback:function(t){e.$set(e.filterForm,"username",t)},expression:"filterForm.username"}})],1),n("div",[n("div",{staticClass:"filter-title"},[e._v("By Problem Code")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Problem Code"},on:{"on-enter":e.onFiltering},model:{value:e.filterForm.problemCode,callback:function(t){e.$set(e.filterForm,"problemCode",t)},expression:"filterForm.problemCode"}})],1),n("div",[n("div",{staticClass:"filter-title"},[e._v("By Judge Result")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Judge Result"},on:{"on-enter":e.onFiltering},model:{value:e.filterForm.judgeResult,callback:function(t){e.$set(e.filterForm,"judgeResult",t)},expression:"filterForm.judgeResult"}})],1),n("div",[n("div",{staticClass:"filter-title"},[e._v("By Judge Template")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Judge Template"},on:{"on-enter":e.onFiltering},model:{value:e.filterForm.judgeTemplate,callback:function(t){e.$set(e.filterForm,"judgeTemplate",t)},expression:"filterForm.judgeTemplate"}})],1)])]),n("SubmissionList",{attrs:{filter:e.filterOption,doRejudge:e.canDoRejudge},on:{"on-rejudge":e.handleRejudge,"on-cell-click":e.onSubmissionListCellClick}})],1)},i=[],o=(n("d81d"),n("5530")),r=n("bf9c"),a=n("2f62"),l=n("7c15"),u={name:"SubmissionView",components:{SubmissionList:r["a"]},data:function(){return{filterOption:{},filterForm:{},selectedSubmissions:[]}},methods:{clearFilterOptions:function(){for(var e in this.filterOption)this.filterOption[e]=""},onFiltering:function(){this.filterOption=Object(o["a"])({},this.filterForm)},onReset:function(){this.clearFilterOptions()},onSubmissionListCellClick:function(e,t){var n=this.contestId?"contest-submission-detail":"submission-detail";switch(t.key){case"judgeResult":this.$router.push({name:n,params:{submissionId:e.submissionId}});break;case"problemCode":case"problemTitle":this.$router.push({name:"problem-detail",params:{problemCode:e.problemCode}});break}},handleRejudge:function(e){l["a"].rejudge({contestId:this.contestId,submissionIds:e.map((function(e){return e.submissionId}))})}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(a["d"])("contest",["contest"])),Object(a["c"])("contest",["contestId"])),Object(a["c"])("user",["isAdmin","username"])),{},{canDoRejudge:function(){return!(!this.contestId||!this.isAdmin&&this.contest.username!==this.username)}}),mounted:function(){this.filterForm=Object(o["a"])({},this.$route.params),this.onFiltering()}},c=u,d=(n("6baf"),n("2877")),f=Object(d["a"])(c,s,i,!1,null,"1db5beb2",null);t["default"]=f.exports},a9e3:function(e,t,n){"use strict";var s=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),a=n("5135"),l=n("c6b6"),u=n("7156"),c=n("c04e"),d=n("d039"),f=n("7c73"),m=n("241c").f,p=n("06cf").f,b=n("9bf2").f,g=n("58a8").trim,h="Number",v=i[h],y=v.prototype,C=l(f(y))==h,j=function(e){var t,n,s,i,o,r,a,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+u}for(o=u.slice(2),r=o.length,a=0;a<r;a++)if(l=o.charCodeAt(a),l<48||l>i)return NaN;return parseInt(o,s)}return+u};if(o(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(C?d((function(){y.valueOf.call(n)})):l(n)!=h)?u(new v(j(t)),n,w):j(t)},I=s?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;I.length>R;R++)a(v,S=I[R])&&!a(w,S)&&b(w,S,p(v,S));w.prototype=y,y.constructor=w,r(i,h,w)}},bf9c:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{staticClass:"clearfix",attrs:{"dis-hover":"",padding:0}},[n("Table",{staticClass:"data-table",attrs:{size:e.size,"show-header":e.showHeader,"no-data-text":e.noDataText,columns:e.filteredColumns,data:e.submissions,loading:e.loading},on:{"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSort,"on-cell-click":e.onCellClick},scopedSlots:e._u([{key:"judge-result",fn:function(e){var t=e.row;return[n("JudgeResult",{attrs:{result:t.judgeResult}})]}},{key:"time",fn:function(t){var s=t.row;return[n("span",{staticClass:"time"},[e._v(e._s(s.usedTime))])]}},{key:"mem",fn:function(t){var s=t.row;return[n("span",{staticClass:"mem"},[e._v(e._s(s.usedMemory))])]}}])}),n("div",[e.doRejudge?n("div",{staticClass:"left btns"},[n("Button",{on:{click:e.onRejudge}},[n("Icon",{attrs:{type:"md-refresh"}}),e._v(" Rejudge")],1)],1):e._e(),n("div",{staticClass:"right pages"},[n("Page",{attrs:{size:"small","show-elevator":"","show-sizer":"",total:e.total,current:e.pageNow},on:{"update:current":function(t){e.pageNow=t},"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)])],1)},i=[],o=(n("99af"),n("4de4"),n("caad"),n("d3b7"),n("2532"),n("2909")),r=n("5530"),a=n("0c79"),l=n("8035"),u=n("bedf"),c=n("7c15"),d=n("2f62"),f=n("4360"),m={name:"SubmissionList",components:{JudgeResult:l["a"]},props:{size:{type:String,default:"default"},showHeader:{type:Boolean,default:!0},doRejudge:{type:Boolean,default:!1},noDataText:{type:String,default:""},bannedKey:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[{title:"#",key:"submissionId",minWidth:60},{title:"Username",key:"username"},{title:"Problem Code",key:"problemCode",minWidth:15,render:function(e,t){if(f["a"].state.contest.contest.contestId)return e("strong",Object(u["a"])(t.row.problemCode));if(void 0!==t.row.problemCode){if(t.row.problemCode.length>20){var n=t.row.problemCode.substring(0,20)+"...";return e("Tooltip",{props:{placement:"top",maxWidth:"180"}},[e(a["a"],{class:"hover",props:{problemCode:n}}),e("span",{slot:"content",style:{whiteSpace:"normal",wordBreak:"break-all"}},t.row.problemCode)])}return e(a["a"],{class:"hover",props:{problemCode:t.row.problemCode}})}}},{title:"Title",key:"problemTitle",render:function(e,t){return e("span",{class:"hover"},t.row.problemTitle)}},{title:"Judge Result",slot:"judge-result",minWidth:95},{title:"Time",slot:"time",sortable:!0,maxWidth:100},{title:"Memory",slot:"mem",sortable:!0,maxWidth:120},{title:"Template",key:"judgeTemplateTitle"},{title:"Submit Time",key:"gmtCreate",minWidth:55,render:function(e,t){return e("Time",{props:{time:parseInt(t.row.gmtCreate),type:"datetime"}})}}]}},filter:{type:Object,default:function(){return{username:"",problemCode:"",judgeResult:"",language:""}}}},data:function(){return{filteredColumns:[],submissions:[],selectedSubmissions:[],total:0,pageNow:1,pageSize:10,sortBy:"",ascending:!1,loading:!1}},computed:Object(r["a"])({},Object(d["c"])("contest",["contestId"])),methods:{onPageChange:function(e){this.pageNow=e},onPageSizeChange:function(e){this.pageSize=e},onSort:function(e){var t=e.key,n=e.order;"normal"===n?(this.sortBy="",this.ascending=!1):(this.sortBy=t,this.ascending="asc"===n)},onCellClick:function(e,t,n,s){this.$emit("on-cell-click",e,t,n,s)},onSelectionChange:function(e){this.selectedSubmissions=e},onRejudge:function(){this.$emit("on-rejudge",this.selectedSubmissions)},querySubmissionList:function(){var e=this;this.loading=!0,c["a"].getSubmissionList(Object(r["a"])(Object(r["a"])({},this.filter),{},{contestId:this.contestId,sortBy:this.sortBy,ascending:this.ascending,pageNow:this.pageNow,pageSize:this.pageSize})).then((function(t){e.submissions=t.rows,e.total=parseInt(e.pageSize)*parseInt(t.totalPage)})).finally((function(){return e.loading=!1}))}},watch:{filter:function(){this.querySubmissionList()},pageNow:function(){this.querySubmissionList()},pageSize:function(){this.querySubmissionList()},sortBy:function(){this.querySubmissionList()},ascending:function(){this.querySubmissionList()}},created:function(){var e=this,t=Object(o["a"])(this.columns);this.doRejudge&&(t=[{type:"selection",width:60,align:"center"}].concat(t)),this.filteredColumns=t.filter((function(t){return!e.bannedKey.includes(t.key)}))}},p=m,b=(n("3f5e"),n("2877")),g=Object(b["a"])(p,s,i,!1,null,"657c005b",null);t["a"]=g.exports},f932:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7c07d95a.d47830a0.js.map