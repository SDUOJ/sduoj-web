(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4274fa3a"],{"9bd9":function(t,e,n){},b461:function(t,e,n){"use strict";var s=n("9bd9"),o=n.n(s);o.a},df20:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{staticClass:"container"},[n("Col",{attrs:{span:"18"}},[n("div",{staticStyle:{"margin-right":"20px"}},[n("Card",{attrs:{title:"Contest List",padding:0,"dis-hover":""}},[n("Select",{staticStyle:{width:"100px"},attrs:{slot:"extra",size:"small"},slot:"extra",model:{value:t.selectContestMode,callback:function(e){t.selectContestMode=e},expression:"selectContestMode"}},[n("Option",{attrs:{value:"all",label:"All"}}),t._l(t.CONTEST_MODE,(function(t){return n("Option",{key:t,attrs:{value:t,label:t.toUpperCase()}})}))],2),n("List",{attrs:{size:"large","item-layout":"vertical"}},t._l(t.contestList,(function(e){return n("ListItem",{key:e.contestId},[n("div",{staticStyle:{"margin-right":"10px"},attrs:{slot:"extra"},slot:"extra"},[t.participatedContest.includes(e.contestId)?n("div",{staticStyle:{color:"#5cb85c"}},[n("Icon",{attrs:{type:"md-checkmark"}}),n("strong",[t._v(" Participated")])],1):t._e()]),n("ListItemMeta",[n("div",{staticClass:"contest__date numbox",attrs:{slot:"avatar"},slot:"avatar"},[n("div",{staticClass:"numbox__num__large"},[t._v(t._s(t._f("timeformat")(e.gmtStart,"DD")))]),n("div",{staticClass:"numbox__text"},[t._v(t._s(t._f("timeformat")(e.gmtStart,"yyyy-MM")))])]),n("div",{attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"ivu-list-item-meta-title",on:{click:function(n){return t.toContestDetail(e.contestId)}}},[t._v(t._s(e.contestTitle))]),e.features.openness===t.CONTEST_OPENNESS.PRIVATE?[t.participatedContest.includes(e.contestId)?n("Icon",{attrs:{type:"ios-unlock",color:"#d9534f",size:"19"}}):n("Icon",{attrs:{type:"md-lock",color:"#d9534f",size:"19"}})]:e.features.openness===t.CONTEST_OPENNESS.PROTECTED?[t.participatedContest.includes(e.contestId)?n("Icon",{attrs:{type:"ios-unlock",color:"orange",size:"19"}}):n("Icon",{attrs:{type:"md-lock",color:"orange",size:"19"}})]:t._e()],2),n("ul",{staticClass:"ivu-list-item-action",attrs:{slot:"description"},slot:"description"},[n("li",[n("div",{class:"contest-type--"+e.features.mode},[n("Icon",{attrs:{type:"md-bulb",color:"#fff"}}),t._v(" "),n("span",[t._v(t._s(e.features.mode.toUpperCase()))])],1)]),n("li",[t._v(" "+t._s(t._f("timeformat")(e.gmtStart,"HH:mm:ss"))+" ")]),n("li",[n("Icon",{attrs:{type:"ios-time-outline"}}),t._v(" "+t._s(t._f("time2hour")(e.gmtEnd-e.gmtStart))+" ")],1),n("li",[n("Icon",{attrs:{type:"ios-people-outline"}}),t._v(" "+t._s(e.participantNum)+" ")],1),n("li",[t.$store.state.now>e.gmtEnd?n("Tag",{attrs:{color:"green"}},[t._v("Finished")]):e.gmtStart<t.$store.state.now&&t.$store.state.now<e.gmtEnd?n("Tag",{attrs:{color:"gold"}},[t._v("Running")]):t._e()],1)])])],1)})),1),n("div",{staticClass:"pages"},[n("Page",{attrs:{size:"small","show-elevator":"","show-sizer":"",total:t.total,current:t.pageNow,"page-size":t.pageSize,"page-size-opts":t.pageSizeOpts},on:{"update:current":function(e){t.pageNow=e},"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1)],1)]),n("Col",{attrs:{span:"6"}},[t.upcomingContest?n("Card",{staticStyle:{"margin-bottom":"30px"},attrs:{title:"Upcoming",padding:0,"dis-hover":""}},[n("div",{staticClass:"upcoming-title",on:{click:function(e){return t.toContestDetail(t.upcomingContest.contestId)}}},[t._v(t._s(t.upcomingContest.contestTitle))]),n("div",{staticClass:"upcoming-countdown"},[n("span",[t._v(t._s(t.countdown))])])]):t._e()],1)],1)},o=[],i=(n("d3b7"),n("5530")),a=n("c1df"),c=n.n(a),r=n("2f62"),l=n("bedf"),u=n("c9d9"),p=n("7c15"),d=n("e325"),m=void 0,g={mixins:[d["a"]],data:function(){return{contestList:[],participatedContest:[],upcomingContest:{},selectContestMode:"all"}},filters:{timeformat:function(t,e){return"string"===typeof t&&(t=parseInt(t)),c()(new Date(t)).format(e)},time2hour:function(t){return Object(l["b"])(t)},contestStatus:function(t){var e=m.$store.store.now;return t.contestStartTime>e?u["c"].UPCOMING:t.contestEndTime<e?u["c"].FINISHED:u["c"].RUNNING}},computed:Object(i["a"])(Object(i["a"])({},Object(r["d"])(["now"])),{},{countdown:function(){var t=c()(new Date(parseInt(this.upcomingContest.gmtStart)));if(t>this.now){var e=c.a.duration(t.diff(this.now,"seconds"),"seconds");return e.weeks()>0?e.humanize():Object(l["b"])(t-this.now)}return"\b"},CONTEST_OPENNESS:function(){return u["b"]},CONTEST_MODE:function(){return u["a"]},CONTEST_STATUS:function(){return u["c"]}}),methods:{toContestDetail:function(t){this.$router.push({name:"contest-detail",params:{contestId:t}})},getContestList:function(){var t=this;this.$Spin.show(),p["a"].getContestList({pageNow:this.pageNow,pageSize:this.pageSize,mode:"all"===this.selectContestMode?"":this.selectContestMode}).then((function(e){t.contestList=e.rows,t.total=parseInt(e.totalPage)*t.pageSize})).finally((function(){t.$Spin.hide()}))}},watch:{selectContestMode:function(){this.getContestList()},$route:function(){var t=this;this.getContestList(),p["a"].getUpcomingContest().then((function(e){t.upcomingContest=e})).catch((function(t){return t})),p["a"].getParticipatedContests().then((function(e){t.participatedContest=e})).catch((function(t){return t}))}},created:function(){var t=this;this.getContestList(),p["a"].getUpcomingContest().then((function(e){t.upcomingContest=e})).catch((function(t){return t})),p["a"].getParticipatedContests().then((function(e){t.participatedContest=e})).catch((function(t){return t}))}},f=g,C=(n("b461"),n("2877")),h=Object(C["a"])(f,s,o,!1,null,"6e8a34d0",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-4274fa3a.2e4b327a.js.map