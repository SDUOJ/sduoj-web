(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3884bc1f"],{"1abe":function(e,t,s){},"3f5e":function(e,t,s){"use strict";var i=s("47ea"),o=s.n(i);o.a},"47ea":function(e,t,s){},"6ef6":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"tools clearfix"},[s("div",{staticClass:"clearfix",staticStyle:{margin:"10px 3px"}},[s("div",{staticStyle:{float:"left"}},[s("strong",[e._v("Begin: ")]),s("span",[e._v(e._s(e.contestStartTime.format("yyyy-MM-DD HH:mm:ss")))])]),s("div",{staticStyle:{float:"right"}},[s("strong",[e._v("End: ")]),s("span",[e._v(e._s(e.contestEndTime.format("yyyy-MM-DD HH:mm:ss")))])])]),s("div",[s("Slider",{attrs:{disabled:e.contestStatus===e.CONTEST_STATUS.RUNNING,"show-tip":"never",step:.001},model:{value:e.currentPercent,callback:function(t){e.currentPercent=t},expression:"currentPercent"}})],1),s("div",{staticStyle:{margin:"10px 10px 0 10px","text-align":"center"}},[e.contestStatus===e.CONTEST_STATUS.FINISHED?[e.sliderTime?s("strong",[e._v(" "+e._s(e._f("time2hour")(e.sliderTime-e.contestStartTime)))]):s("strong",[e._v("Finished")])]:[s("strong",[e._v(e._s(e.elapsed))])]],2)]),s("table",{staticClass:"scoreboard"},[s("colgroup",[s("col",{attrs:{id:"scorerank"}}),e.showFlags?s("col",{attrs:{id:"scoreflags"}}):s("col"),s("col",{attrs:{id:"scoreusername"}})]),e._m(0),s("colgroup",[e.showSubmissions?e._l(e.contest.problems,(function(e){return s("col",{key:e.problemCode,staticClass:"scoreprob"})})):e._e()],2),s("thead",[s("tr",{staticClass:"scoreheader"},[s("th",{staticStyle:{padding:"0 10px"},attrs:{title:"rank",scope:"col"}},[e._v("RANK")]),s("th",{staticStyle:{padding:"0 10px"},attrs:{title:"username",colspan:"2",scope:"col"}},[e._v("PARTICIPANT")]),s("th",{staticStyle:{padding:"0 10px"},attrs:{title:"# solved / penalty or score",colspan:"2",scope:"col"}},[e._v("SCORE")]),e._l(e.contest.problems,(function(t){return s("th",{key:t.problemCode,attrs:{title:"problem "+t.problemTitle,scope:"col"}},[s("router-link",{attrs:{to:{name:"contest-problem",params:{problemCode:t.problemCode}}}},[e._v(" "+e._s(e._f("contestProblemId")(t.problemCode))+" "),t.ballonColor?s("div",{staticClass:"circle",style:"background: "+t.ballonColor+";"}):e._e(),s("div",{staticClass:"problempoints"},[e._v(" "+e._s(t.acceptNum||0)+" / "+e._s(t.submitNum||0)+" ")])])],1)}))],2)]),s("tbody",[e._l(e.likedScores,(function(t,i){return s("tr",{key:-t.user.userId,class:{sortorderswitch:0===i,scoreliked:e.likedScoresMap[t.user.userId],scorethisisme:t.user.userId===e.profile.userId},style:i===e.likedScores.length-1?"border-bottom: thick solid black;":"",attrs:{id:"user:"+t.user.userId}},[s("td",{staticClass:"scorepl"},[e._v(" "+e._s(e.displayRank?t.rank:"?")+" ")]),s("td",{staticClass:"scoreaf",staticStyle:{background:"#ffffff"}},[e.likedScoresMap[t.user.userId]?s("Icon",{staticClass:"heart fas",attrs:{type:"md-heart"},on:{click:function(t){return e.setUserLiked(i,!1)}}}):s("Icon",{staticClass:"heart",attrs:{type:"md-heart-outline"},on:{click:function(t){return e.setUserLiked(i,!0)}}})],1),s("td",{staticClass:"scoretn",staticStyle:{background:"#ffffff"},attrs:{title:t.user.username}},[s("span",{staticClass:"forceWidth"},[e._v(e._s(t.user.username))]),t.user.affiliation?s("span",{staticClass:"forceWidth univ"},[e._v(e._s(t.user.affiliation))]):e._e()]),s("td",{staticClass:"scorenc"},[e._v(e._s(t.solved))]),e.contestMode===e.CONTEST_MODE.ACM?s("td",{staticClass:"scorett"},[e._v(e._s(e._f("time2minutes")(t.score)))]):s("td",{staticClass:"scorett"},[e._v(e._s(t.score))]),e._l(t.problemResults,(function(i){return s("td",{key:i.problemCode,staticClass:"score_cell"},[e.contestMode===e.CONTEST_MODE.ACM?s("a",[i.numSubmissions+i.numSubmissionsPending>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(e._f("time2minutes")(i.time))+" "),s("span",[e._v(" "+e._s(i.numSubmissions+i.numSubmissionsPending===1?"1 try":i.numSubmissions+i.numSubmissionsPending+" tries")+" ")])]):e._e()]):e.contestMode===e.CONTEST_MODE.OI?s("a",[i.numSubmissions>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(i.score)+" ")]):e._e()]):e.contestMode===e.CONTEST_MODE.IOI?s("a",[i.numSubmissions>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(i.score)+" "),s("span",[e._v(" "+e._s(e._f("time2minutes")(i.time))+" ")])]):e._e()]):e._e()])}))],2)})),e._l(e.scores,(function(t,i){return s("tr",{key:t.user.userId,class:{sortorderswitch:0===i,scorethisisme:t.user.userId===e.profile.userId,scoreliked:e.likedScoresMap[t.user.userId]},attrs:{id:"user:"+t.user.userId}},[s("td",{staticClass:"scorepl"},[e._v(" "+e._s(e.displayRank?t.rank:"?")+" ")]),s("td",{staticClass:"scoreaf",staticStyle:{background:"#ffffff"}},[e.likedScoresMap[t.user.userId]?s("Icon",{staticClass:"heart fas",attrs:{type:"md-heart"},on:{click:function(t){return e.setUserLiked(i,!1)}}}):s("Icon",{staticClass:"heart",attrs:{type:"md-heart-outline"},on:{click:function(t){return e.setUserLiked(i,!0)}}})],1),s("td",{staticClass:"scoretn",staticStyle:{background:"#ffffff"},attrs:{title:t.user.username}},[s("span",{staticClass:"forceWidth"},[e._v(e._s(t.user.username))]),t.user.affiliation?s("span",{staticClass:"forceWidth univ"},[e._v(e._s(t.user.affiliation))]):e._e()]),s("td",{staticClass:"scorenc"},[e._v(e._s(t.solved))]),e.contestMode===e.CONTEST_MODE.ACM?s("td",{staticClass:"scorett"},[e._v(e._s(e._f("time2minutes")(t.score)))]):s("td",{staticClass:"scorett"},[e._v(e._s(t.score))]),e._l(t.problemResults,(function(i){return s("td",{key:i.problemCode,staticClass:"score_cell"},[e.contestMode===e.CONTEST_MODE.ACM?s("a",[i.numSubmissions+i.numSubmissionsPending>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(e._f("time2minutes")(i.time))+" "),s("span",[e._v(" "+e._s(i.numSubmissions+i.numSubmissionsPending===1?"1 try":i.numSubmissions+i.numSubmissionsPending+" tries")+" ")])]):e._e()]):e.contestMode===e.CONTEST_MODE.OI?s("a",[i.numSubmissions>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(i.score)+" ")]):e._e()]):e.contestMode===e.CONTEST_MODE.IOI?s("a",[i.numSubmissions>0?s("div",{class:i.css,on:{click:function(s){return e.showAllSubmissions(t.user.username,i.problemCode)}}},[e._v(" "+e._s(i.score)+" "),s("span",[e._v(" "+e._s(e._f("time2minutes")(i.time))+" ")])]):e._e()]):e._e()])}))],2)}))],2)]),s("Modal",{attrs:{width:"900px","footer-hide":"",closable:!1},model:{value:e.modelSubmissions,callback:function(t){e.modelSubmissions=t},expression:"modelSubmissions"}},[s("SubmissionList",{attrs:{size:"small",filter:e.showOnesAllSubmission,bannedKey:["problemCode","username","problemTitle"]},on:{"on-cell-click":e.onSubmissionListCellClick}})],1),s("Modal",{attrs:{width:"1000px","footer-hide":"",closable:!1},model:{value:e.modelSubmissionDetail,callback:function(t){e.modelSubmissionDetail=t},expression:"modelSubmissionDetail"}},[s("SubmissionDetailView",{attrs:{"submission-id":e.submissionId}})],1)],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("colgroup",[s("col",{attrs:{id:"scoresolv"}}),s("col",{attrs:{id:"scoretotal"}})])}],n=(s("d3b7"),s("25f0"),s("5530")),r=s("bf9c"),a=s("3452"),c=s("c1df"),l=s.n(c),u=s("bedf"),d=s("c9d9"),m=s("2f62"),f=(s("1abe"),{name:"ContestRank",components:{SubmissionList:r["a"],SubmissionDetailView:a["default"]},data:function(){return{modelSubmissions:!1,modelSubmissionDetail:!1,showSubmissions:!0,showFlags:!1,displayRank:!0,showOnesAllSubmission:{username:"",problemCode:""},submissionId:""}},filters:{contestProblemId:function(e){return Object(u["a"])(e)},time2minutes:function(e){return 0===e?"\b":parseInt(e/60/1e3).toString()},time2hour:function(e){return Object(u["b"])(e)}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(m["d"])("contest",["contest","problems","likedScoresMap","sliderTime"])),Object(m["c"])("contest",["contestId","contestMode","contestStatus","contestStartTime","contestEndTime","contestDuration","scores","likedScores"])),Object(m["c"])("user",["profile"])),{},{elapsed:function(){return Object(u["b"])(this.$store.state.now-this.contestStartTime)},currentPercent:{get:function(){var e=this.$store.state.now,t=l()(e-this.contestStartTime);return Math.min(100,parseInt(t/this.contestDuration*100))},set:function(e){100===e?this.$store.commit("contest/setSliderTime",{sliderTime:null}):this.$store.commit("contest/setSliderTime",{sliderTime:this.contestStartTime+parseInt(this.contestDuration*e/100)})}},CONTEST_MODE:function(){return d["a"]},CONTEST_STATUS:function(){return d["c"]}}),methods:{handleProgressChange:function(e){100===e?this.$store.commit("contest/setSliderTime",{sliderTime:null}):this.$store.commit("contest/setSliderTime",{sliderTime:this.contestStartTime+parseInt(this.contestDuration*e/100)})},setUserLiked:function(e,t){this.$store.commit("contest/setScoreLiked",{index:e,status:t})},showAllSubmissions:function(e,t){this.contestStatus!==d["c"].FINISHED&&e!==this.profile.username||(this.showOnesAllSubmission={username:e,problemCode:t},this.modelSubmissions=!0)},onSubmissionListCellClick:function(e,t){"judgeResult"===t.key&&(this.submissionId=e.submissionId,this.modelSubmissionDetail=!0)}}}),b=f,p=(s("c6e6"),s("2877")),h=Object(p["a"])(b,i,o,!1,null,"6cc4e2c4",null);t["default"]=h.exports},a595:function(e,t,s){},bf9c:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Card",{staticClass:"clearfix",attrs:{"dis-hover":"",padding:0}},[s("Table",{staticClass:"data-table",attrs:{size:e.size,"show-header":e.showHeader,"no-data-text":e.noDataText,columns:e.filteredColumns,data:e.submissions,loading:e.loading},on:{"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSort,"on-cell-click":e.onCellClick},scopedSlots:e._u([{key:"judge-result",fn:function(e){var t=e.row;return[s("JudgeResult",{attrs:{result:t.judgeResult}})]}},{key:"time",fn:function(t){var i=t.row;return[s("span",{staticClass:"time"},[e._v(e._s(i.usedTime))])]}},{key:"mem",fn:function(t){var i=t.row;return[s("span",{staticClass:"mem"},[e._v(e._s(i.usedMemory))])]}}])}),s("div",[e.doRejudge?s("div",{staticClass:"left btns"},[s("Button",{on:{click:e.onRejudge}},[s("Icon",{attrs:{type:"md-refresh"}}),e._v(" Rejudge")],1)],1):e._e(),s("div",{staticClass:"right pages"},[s("Page",{attrs:{size:"small","show-elevator":"","show-sizer":"",total:e.total,current:e.pageNow},on:{"update:current":function(t){e.pageNow=t},"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)])],1)},o=[],n=(s("99af"),s("4de4"),s("caad"),s("d3b7"),s("2532"),s("2909")),r=s("5530"),a=s("0c79"),c=s("8035"),l=s("bedf"),u=s("7c15"),d=s("2f62"),m=s("4360"),f={name:"SubmissionList",components:{JudgeResult:c["a"]},props:{size:{type:String,default:"default"},showHeader:{type:Boolean,default:!0},doRejudge:{type:Boolean,default:!1},noDataText:{type:String,default:""},bannedKey:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[{title:"#",key:"submissionId",minWidth:60},{title:"Username",key:"username"},{title:"Problem Code",key:"problemCode",minWidth:15,render:function(e,t){if(m["a"].state.contest.contest.contestId)return e("strong",Object(l["a"])(t.row.problemCode));if(void 0!==t.row.problemCode){if(t.row.problemCode.length>20){var s=t.row.problemCode.substring(0,20)+"...";return e("Tooltip",{props:{placement:"top",maxWidth:"180"}},[e(a["a"],{class:"hover",props:{problemCode:s}}),e("span",{slot:"content",style:{whiteSpace:"normal",wordBreak:"break-all"}},t.row.problemCode)])}return e(a["a"],{class:"hover",props:{problemCode:t.row.problemCode}})}}},{title:"Title",key:"problemTitle",render:function(e,t){return e("span",{class:"hover"},t.row.problemTitle)}},{title:"Judge Result",slot:"judge-result",minWidth:95},{title:"Time",slot:"time",sortable:!0,maxWidth:100},{title:"Memory",slot:"mem",sortable:!0,maxWidth:120},{title:"Template",key:"judgeTemplateTitle"},{title:"Submit Time",key:"gmtCreate",minWidth:55,render:function(e,t){return e("Time",{props:{time:parseInt(t.row.gmtCreate),type:"datetime"}})}}]}},filter:{type:Object,default:function(){return{username:"",problemCode:"",judgeResult:"",language:""}}}},data:function(){return{filteredColumns:[],submissions:[],selectedSubmissions:[],total:0,pageNow:1,pageSize:10,sortBy:"",ascending:!1,loading:!1}},computed:Object(r["a"])({},Object(d["c"])("contest",["contestId"])),methods:{onPageChange:function(e){this.pageNow=e},onPageSizeChange:function(e){this.pageSize=e},onSort:function(e){var t=e.key,s=e.order;"normal"===s?(this.sortBy="",this.ascending=!1):(this.sortBy=t,this.ascending="asc"===s)},onCellClick:function(e,t,s,i){this.$emit("on-cell-click",e,t,s,i)},onSelectionChange:function(e){this.selectedSubmissions=e},onRejudge:function(){this.$emit("on-rejudge",this.selectedSubmissions)},querySubmissionList:function(){var e=this;this.loading=!0,u["a"].getSubmissionList(Object(r["a"])(Object(r["a"])({},this.filter),{},{contestId:this.contestId,sortBy:this.sortBy,ascending:this.ascending,pageNow:this.pageNow,pageSize:this.pageSize})).then((function(t){e.submissions=t.rows,e.total=parseInt(e.pageSize)*parseInt(t.totalPage)})).finally((function(){return e.loading=!1}))}},watch:{filter:function(){this.querySubmissionList()},pageNow:function(){this.querySubmissionList()},pageSize:function(){this.querySubmissionList()},sortBy:function(){this.querySubmissionList()},ascending:function(){this.querySubmissionList()}},created:function(){var e=this,t=Object(n["a"])(this.columns);this.doRejudge&&(t=[{type:"selection",width:60,align:"center"}].concat(t)),this.filteredColumns=t.filter((function(t){return!e.bannedKey.includes(t.key)}))}},b=f,p=(s("3f5e"),s("2877")),h=Object(p["a"])(b,i,o,!1,null,"657c005b",null);t["a"]=h.exports},c6e6:function(e,t,s){"use strict";var i=s("a595"),o=s.n(i);o.a}}]);
//# sourceMappingURL=chunk-3884bc1f.133a42dc.js.map