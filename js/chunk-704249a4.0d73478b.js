(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-704249a4"],{"0b55":function(t,s,e){"use strict";var i=e("69bc"),n=e.n(i);n.a},1276:function(t,s,e){"use strict";var i=e("d784"),n=e("44e7"),o=e("825a"),r=e("1d80"),l=e("4840"),u=e("8aa5"),a=e("50c4"),c=e("14c3"),d=e("9263"),m=e("d039"),b=[].push,p=Math.min,h=4294967295,f=!m((function(){return!RegExp(h,"y")}));i("split",2,(function(t,s,e){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(r(this)),o=void 0===e?h:e>>>0;if(0===o)return[];if(void 0===t)return[i];if(!n(t))return s.call(i,t,o);var l,u,a,c=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=new RegExp(t.source,m+"g");while(l=d.call(f,i)){if(u=f.lastIndex,u>p&&(c.push(i.slice(p,l.index)),l.length>1&&l.index<i.length&&b.apply(c,l.slice(1)),a=l[0].length,p=u,c.length>=o))break;f.lastIndex===l.index&&f.lastIndex++}return p===i.length?!a&&f.test("")||c.push(""):c.push(i.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)}:s,[function(s,e){var n=r(this),o=void 0==s?void 0:s[t];return void 0!==o?o.call(s,n,e):i.call(String(n),s,e)},function(t,n){var r=e(i,t,this,n,i!==s);if(r.done)return r.value;var d=o(t),m=String(this),b=l(d,RegExp),g=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),C=new b(f?d:"^(?:"+d.source+")",v),_=void 0===n?h:n>>>0;if(0===_)return[];if(0===m.length)return null===c(C,m)?[m]:[];var R=0,j=0,I=[];while(j<m.length){C.lastIndex=f?j:0;var x,y=c(C,f?m:m.slice(j));if(null===y||(x=p(a(C.lastIndex+(f?0:j)),m.length))===R)j=u(m,j,g);else{if(I.push(m.slice(R,j)),I.length===_)return I;for(var S=1;S<=y.length-1;S++)if(I.push(y[S]),I.length===_)return I;j=R=x}}return I.push(m.slice(R)),I}]}),!f)},3452:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[t.spinShow?e("Spin",{attrs:{size:"large",fix:""}}):t._e(),e("Row",[e("Col",{attrs:{span:"17"}},[e("div",{staticStyle:{"margin-right":"20px"}},[e("Card",{staticClass:"box",attrs:{"dis-hover":"",padding:0}},[e("JudgeResult",{staticClass:"title",attrs:{slot:"title",result:t.submission.judgeResult,total:t.submission.checkpointNum,current:t.judgedCheckpointNum},slot:"title"}),t.showCheckpointResults?e("Table",{staticClass:"data-table",attrs:{"disabled-hover":"","no-data-text":"",size:"small",columns:t.columns,data:t.submission.checkpointResults},scopedSlots:t._u([{key:"judge-result",fn:function(t){var s=t.row;return[e("JudgeResult",{attrs:{result:s.judgeResult}})]}},{key:"time",fn:function(s){var i=s.row;return[e("span",{staticClass:"time"},[t._v(t._s(i.usedTime))])]}},{key:"mem",fn:function(s){var i=s.row;return[e("span",{staticClass:"mem"},[t._v(t._s(i.usedMemory))])]}}],null,!1,1916629984)}):t._e()],1),t.showJudgeLog?e("Card",{staticClass:"box",attrs:{title:"Judge Log","dis-hover":""}},[e("div",{staticClass:"judge-log"},[t._v(t._s(t.submission.judgeLog))])]):t._e(),t.showCode?e("Card",{staticClass:"box",attrs:{title:"Your Code",icon:"md-code","dis-hover":"",padding:0}},[e("p",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("Your Code")]),t.submission.code?e("Tooltip",{attrs:{content:"copy",placement:"right"}},[e("Icon",{staticClass:"hover",attrs:{type:"md-copy"},on:{click:function(s){return t.copyToClipboard(t.submission.code)}}})],1):t._e()],1),t.submission.code?e("p",{staticStyle:{color:"#bbb"},attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.submission.codeLength)+" B")]):t.submission.zipFileId?e("Button",{attrs:{slot:"extra",type:"info",size:"small",target:"_blank",to:t.downloadUrl},slot:"extra"},[t._v("Download")]):t._e(),t.submission.code?e("div",{directives:[{name:"highlight-linenumber",rawName:"v-highlight-linenumber",value:t.submission.code,expression:"submission.code"}]},[e("pre",[e("code")])]):t._e()],1):t._e()],1)]),e("Col",{attrs:{span:"7"}},[e("Card",{attrs:{title:"Submission",icon:"ios-options","dis-hover":"",padding:0}},[e("CellGroup",{on:{"on-click":t.onCellClick}},[e("div",{staticStyle:{"margin-top":"24px"}},[t.submission.username===t.username?e("Cell",{attrs:{title:"Public"}},[e("i-switch",{attrs:{slot:"extra","true-color":"#19be6b"},slot:"extra",model:{value:t.submission.isPublic,callback:function(s){t.$set(t.submission,"isPublic",s)},expression:"submission.isPublic"}})],1):t._e(),t.canDoRejudge?e("Cell",{attrs:{name:"rejudge",disabled:t.submission.judgeResult<0}},[e("strong",[t._v("Rejudge")]),e("Icon",{attrs:{slot:"icon",type:"md-refresh",color:"#2d8cf0"},slot:"icon"})],1):t._e(),t.canDoInvalidate?e("Cell",{attrs:{name:"invalidate",disabled:t.submission.judgeResult<0}},[e("strong",[t._v("Invalidate")]),e("Icon",{attrs:{slot:"icon",type:"md-close-circle",color:"#d9534f"},slot:"icon"})],1):t._e(),e("Divider",{attrs:{size:"small"}}),t.contestId?[e("Cell",{ref:"contest_cell",attrs:{title:"Contest",to:{name:"contest-overview",params:{contestId:t.contestId}}}},[e("span",{staticClass:"ellipsis",style:"width: "+t.getEllipsisWidth("contest_cell")+"px",attrs:{slot:"extra"},slot:"extra"},[t._v(" "+t._s(t.$store.state.contest.contest.contestTitle)+" ")])]),e("Cell",{attrs:{title:"Problem Code",extra:t._f("contestProblemId")(t.submission.problemCode),to:{name:"contest-problem",params:{problemCode:t.submission.problemCode}}}})]:[e("Cell",{attrs:{title:"Problem Code",to:{name:"problem-detail",params:{problemCode:t.submission.problemCode}}}},[e("ProblemCode",{attrs:{slot:"extra",problemCode:t.submission.problemCode},slot:"extra"})],1)],e("Cell",{ref:"problem_title_cell",attrs:{title:"Problem Title"}},[e("span",{staticClass:"ellipsis",style:"width: "+t.getEllipsisWidth("problem_title_cell")+"px",attrs:{slot:"extra"},slot:"extra"},[t._v(" "+t._s(t.submission.problemTitle)+" ")])])],2),e("Divider",{attrs:{size:"small"}}),e("div",{staticStyle:{"margin-bottom":"24px"}},[e("Cell",{attrs:{title:"Submission ID",extra:t.submission.submissionId}}),e("Cell",{attrs:{title:"Create Time"}},[e("Time",{attrs:{slot:"extra",time:t._f("parseInt")(t.submission.gmtCreate),type:"datetime"},slot:"extra"})],1),e("Cell",{attrs:{title:"Judge Time"}},[e("Time",{attrs:{slot:"extra",time:t._f("parseInt")(t.submission.gmtModified),type:"datetime"},slot:"extra"})],1),e("Cell",{attrs:{title:"Username",extra:t.submission.username}}),e("Cell",{attrs:{title:"Judge Result"}},[e("JudgeResult",{attrs:{slot:"extra",result:t.submission.judgeResult},slot:"extra"})],1),t.submission.judgeScore?e("Cell",{attrs:{title:"Score"}},[e("span",{attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.submission.judgeScore||0))])]):t._e(),e("Cell",{attrs:{title:"Judge Template",extra:t.submission.judgeTemplateTitle}}),e("Cell",{attrs:{title:"Total Time"}},[e("span",{staticClass:"time",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.submission.usedTime||0))])]),e("Cell",{attrs:{title:"Total Memory"}},[e("span",{staticClass:"mem",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.submission.usedMemory||0))])])],1)],1)],1)],1)],1)],1)},n=[],o=(e("99af"),e("4de4"),e("4160"),e("a434"),e("d3b7"),e("25f0"),e("159b"),e("2909")),r=e("5530"),l=e("5645"),u=e("8035"),a=e("e325"),c=e("2f62"),d=e("7c15"),m=e("bedf"),b=e("c9d9"),p={components:{JudgeResult:u["a"],ProblemCode:l["a"]},mixins:[a["b"]],inject:["reload"],data:function(){return{submission:{checkpointResults:[]},columns:[{title:"#",key:"id"},{title:"Result",minWidth:50,slot:"judge-result"},{title:"Score",key:"judgeScore"},{title:"Time",slot:"time"},{title:"Memory",slot:"mem"}],spinShow:!1}},filters:{parseInt:function(t){function s(s){return t.apply(this,arguments)}return s.toString=function(){return t.toString()},s}((function(t){return parseInt(t)})),contestProblemId:function(t){return Object(m["b"])(t)}},methods:{getEllipsisWidth:function(t){var s=this.$refs[t];return s?s.$el.clientWidth-107:200},copyToClipboard:function(t){var s=this;this.$copyText(t).then((function(t){return s.$Message.success("已复制到剪切板")}))},gotoProblem:function(t){this.$router.push({name:"problem-detail",params:{problemCode:t}})},wsSuccess:function(t){"string"===typeof t&&(t=JSON.parse(t));for(var s=0;s<t.length;++s){if(!Array.isArray(t[s])){this.fillCheckpointResults(t);break}this.fillCheckpointResults(t[s])}},fillCheckpointResults:function(t){var s=this;if(t[1]<b["g"].PD)switch(t[1]){case b["g"].CP:this.$set(this.submission,"judgeResult",b["g"].CP);break;case b["g"].JG:this.submission.checkpointResults.forEach((function(t){s.$set(t,"judgeResult",b["g"].JG)})),this.$set(this.submission,"judgeResult",b["g"].JG);break;case b["g"].END:this.websock.close(),this.submission=Object(r["a"])(Object(r["a"])({},this.submission),{},{judgeResult:t[2],judgeScore:t[3],usedTime:t[4].toString(),usedMemory:t[5].toString()}),this.getSubmissionDetail(this.submission.submissionId);break}else this.submission.checkpointResults.splice(t[1],1,{id:t[1]+1,judgeResult:t[2],judgeScore:t[3],usedTime:t[4].toString(),usedMemory:t[5].toString()})},getSubmissionDetail:function(t){var s=this;d["a"].getSubmissionDetail({submissionId:t}).then((function(t){if(s.submission=Object(r["a"])({},t),s.submission.checkpointResults&&s.submission.checkpointResults.forEach((function(e,i){s.fillCheckpointResults([t.submissionId,i].concat(Object(o["a"])(e)))})),s.showCode){if(s.contestId){var e=s.contest.features[s.contestStatus===b["c"].RUNNING?"contestRunning":"contestEnd"],i=e.displayCheckpointResult;if(!i)return}if(t.judgeResult<=0){for(var n=0;n<t.checkpointNum;++n)s.submission.checkpointResults.push({id:n+1,judgeResult:t.judgeResult,judgeScore:0,usedTime:0,usedMemory:0});s.initWebSocket("/submission",[s.submission.submissionId],s.wsSuccess)}}})).finally((function(){s.spinShow=!1}))},onCellClick:function(t){var s=this;this.submission.judgeResult<0||("rejudge"===t?d["a"].rejudge([this.submission.submissionId]).then((function(t){s.getSubmissionDetail(s.submission.submissionId)})):"invalidate"===t&&d["a"].invalidate({submissionId:this.submission.submissionId,contestId:this.contestId}).then((function(t){s.getSubmissionDetail(s.submission.submissionId)})))},query:function(t){t&&(this.spinShow=!0,this.getSubmissionDetail(t))}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["c"])("user",["username","isAdmin","isLogin"])),Object(c["c"])("contest",["contestId"])),Object(c["d"])("contest",["contest"])),{},{showCode:function(){return!!this.submission.code||!!this.submission.zipFileId},showJudgeLog:function(){return!!this.submission.judgeLog},showCheckpointResults:function(){return void 0!==this.submission.checkpointResults&&null!==this.submission.checkpointResults&&0!==this.submission.checkpointResults.length&&(this.submission.judgeResult!==b["g"].CAN&&(this.submission.judgeResult>0?!(this.submission.judgeResult===b["g"].CE||this.submission.judgeResult===b["g"].SE):this.submission.judgeResult===b["g"].JG))},canDoRejudge:function(){return this.isAdmin||this.contestId&&this.isLogin&&this.username===this.contest.username},canDoInvalidate:function(){return this.isAdmin||this.contestId&&this.isLogin&&this.username===this.contest.username},judgedCheckpointNum:function(){return this.submission.checkpointResults?this.submission.checkpointResults.filter((function(t){return t.judgeResult>b["g"].PD})).length:0},downloadUrl:function(){return"".concat("","/api/filesys/download/").concat(this.submission.zipFileId,"/source")}}),mounted:function(){this.query(this.$route.params.submissionId)},watch:{$route:function(){this.query(this.$route.params.submissionId)}}},h=p,f=(e("6f23"),e("0b55"),e("2877")),g=Object(f["a"])(h,i,n,!1,null,"5cb3c4b0",null);s["default"]=g.exports},5645:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("strong",[t._v(t._s(t.oj))]),t._v("-"+t._s(t.code)+" ")])},n=[],o=(e("ac1f"),e("1276"),{name:"ProblemCode",props:{problemCode:{type:String,default:"-"}},computed:{oj:function(){return this.problemCode.split("-")[0]},code:function(){return this.problemCode.split("-")[1]}}}),r=o,l=e("2877"),u=Object(l["a"])(r,i,n,!1,null,"8de1424a",null);s["a"]=u.exports},5899:function(t,s){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,s,e){var i=e("1d80"),n=e("5899"),o="["+n+"]",r=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),u=function(t){return function(s){var e=String(i(s));return 1&t&&(e=e.replace(r,"")),2&t&&(e=e.replace(l,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},"69bc":function(t,s,e){},"6f23":function(t,s,e){"use strict";var i=e("d3c6"),n=e.n(i);n.a},7156:function(t,s,e){var i=e("861d"),n=e("d2bb");t.exports=function(t,s,e){var o,r;return n&&"function"==typeof(o=s.constructor)&&o!==e&&i(r=o.prototype)&&r!==e.prototype&&n(t,r),t}},8035:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return null!==t.result?e("div",{staticClass:"judge-result"},[e("Icon",{attrs:{type:t.judgeResult.icon,color:t.judgeResult.color}}),e("span",{class:t.judgeResult.css+" hover"},[t._v(t._s(t.abbr?t.judgeResult.abbr:t.judgeResult.name))]),t.result===t.JUDGE_RESULT_TYPE.JG&&t.total>0?[e("span",{class:t.judgeResult.css+" hover"},[t._v(t._s(" ("+t.current+"/"+t.total+")"))])]:t._e()],2):t._e()},n=[],o=(e("a9e3"),e("c9d9")),r={props:{result:{type:Number,default:null},abbr:{type:Boolean,default:!1},total:{type:Number,default:0},current:{type:Number,default:0}},computed:{judgeResult:function(){return o["f"][this.result]},JUDGE_RESULT_TYPE:function(){return o["g"]}}},l=r,u=(e("8c31"),e("2877")),a=Object(u["a"])(l,i,n,!1,null,"f9b077d4",null);s["a"]=a.exports},"8c31":function(t,s,e){"use strict";var i=e("fdff"),n=e.n(i);n.a},a9e3:function(t,s,e){"use strict";var i=e("83ab"),n=e("da84"),o=e("94ca"),r=e("6eeb"),l=e("5135"),u=e("c6b6"),a=e("7156"),c=e("c04e"),d=e("d039"),m=e("7c73"),b=e("241c").f,p=e("06cf").f,h=e("9bf2").f,f=e("58a8").trim,g="Number",v=n[g],C=v.prototype,_=u(m(C))==g,R=function(t){var s,e,i,n,o,r,l,u,a=c(t,!1);if("string"==typeof a&&a.length>2)if(a=f(a),s=a.charCodeAt(0),43===s||45===s){if(e=a.charCodeAt(2),88===e||120===e)return NaN}else if(48===s){switch(a.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+a}for(o=a.slice(2),r=o.length,l=0;l<r;l++)if(u=o.charCodeAt(l),u<48||u>n)return NaN;return parseInt(o,i)}return+a};if(o(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var j,I=function(t){var s=arguments.length<1?0:t,e=this;return e instanceof I&&(_?d((function(){C.valueOf.call(e)})):u(e)!=g)?a(new v(R(s)),e,I):R(s)},x=i?b(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;x.length>y;y++)l(v,j=x[y])&&!l(I,j)&&h(I,j,p(v,j));I.prototype=C,C.constructor=I,r(n,g,I)}},d3c6:function(t,s,e){},fdff:function(t,s,e){}}]);
//# sourceMappingURL=chunk-704249a4.0d73478b.js.map