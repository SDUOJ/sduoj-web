(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23cce626"],{1099:function(t,e,s){},"10c7":function(t,e,s){"use strict";var n=s("1099"),i=s.n(n);i.a},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1af7":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"media__"+t.size},[s("div",{staticClass:"media__left"},[s("img",{class:t.imgClasses,attrs:{src:"//cravatar.cn/avatar/?d=mm&s=200&r=g",width:t.avatarSize,height:t.avatarSize},on:{click:function(e){return e.preventDefault(),t.clickTitle(e)}}})]),s("div",{staticClass:"media__body"},[s("h1",[s("span",{class:t.titleClasses,on:{click:t.clickTitle}},[t._v(t._s(t.group.title))]),"default"===t.size?s("small",[t._v(" (Group ID: "+t._s(t.group.groupId)+")")]):t._e()]),s("Tooltip",[s("p",{staticClass:"before-by"},["default"===t.size?s("UserCard",{staticClass:"relative",attrs:{email:t.group.owner.email,username:t.group.owner.username,size:25}}):s("span",{class:"hover owner__"+t.size},[t._v(t._s(t.group.owner.username))])],1),s("span",{attrs:{slot:"content"},slot:"content"},[t._v("Created at "+t._s(t._f("timeformat")(t.group.gmtCreate,"yyyy-MM-DD HH:mm:ss")))])]),t.group.description?s("p",{class:t.descClasses},[t._v(t._s(t.group.description))]):s("p",{class:t.descClasses,staticStyle:{"font-style":"italic"}},[t._v("No description")]),s("div",{staticClass:"media__tool-bar"},[t.group.openness===t.GROUP_OPENNESS_TYPE.PRIVATE?[null===t.group.status||t.group.status===t.GROUP_STATUS_TYPE.NONE?s("Button",{attrs:{size:t.size,shape:"circle",type:"info",disabled:""}},[s("span",{class:"btn-font__"+t.size},[t._v("Private")])]):t.group.status===t.GROUP_STATUS_TYPE.JOINED?s("div",{staticClass:"btn__clickable--quit",on:{click:t.handleQuit}},[s("Row",{attrs:{type:"flex",align:"middle"}},[s("Col",{attrs:{span:"14"}},[s("span",{class:"btn-font__"+t.size},[t._v("Quit")])]),"default"===t.size?s("Col",{attrs:{span:"10"}},[s("Icon",{attrs:{type:"ios-arrow-forward",size:t.iconSize}})],1):t._e()],1)],1):t._e()]:[t.group.status===t.GROUP_STATUS_TYPE.APPLYING?s("div",{staticClass:"btn__clickable--apply",on:{click:t.handleJoin}},[s("Row",{attrs:{type:"flex",align:"middle"}},[s("Col",{attrs:{span:"14"}},[s("span",{class:"btn-font__"+t.size},[t._v("Applying")])]),"default"===t.size?s("Col",{attrs:{span:"10"}},[s("Icon",{attrs:{type:"md-information",size:t.iconSize}})],1):t._e()],1)],1):t.group.status===t.GROUP_STATUS_TYPE.JOINED?s("div",{staticClass:"btn__clickable--quit",on:{click:t.handleQuit}},[s("Row",{attrs:{type:"flex",align:"middle"}},[s("Col",{attrs:{span:"14"}},[s("span",{class:"btn-font__"+t.size},[t._v("Quit")])]),"default"===t.size?s("Col",{attrs:{span:"10"}},[s("Icon",{attrs:{type:"ios-arrow-forward",size:t.iconSize}})],1):t._e()],1)],1):t.group.status===t.GROUP_STATUS_TYPE.REJECTED?s("div",{staticClass:"btn__clickable--rejected",on:{click:t.handleJoin}},[s("Row",{attrs:{type:"flex",align:"middle"}},[s("Col",{attrs:{span:"14"}},[s("span",{class:"btn-font__"+t.size},[t._v("Rejected")])]),"default"===t.size?s("Col",{attrs:{span:"10"}},[s("Icon",{attrs:{type:"ios-close",size:t.iconSize}})],1):t._e()],1)],1):s("div",{staticClass:"btn__clickable--join",on:{click:t.handleJoin}},[s("Row",{attrs:{type:"flex",align:"middle"}},[s("Col",{attrs:{span:"14"}},[s("span",{class:"btn-font__"+t.size},[t._v("Join")])]),"default"===t.size?s("Col",{attrs:{span:"10"}},[s("Icon",{attrs:{type:"ios-add",size:t.iconSize}})],1):t._e()],1)],1)]],2)],1),"small"===t.size?s("div",{staticClass:"media__right"},[s("div",{staticClass:"media__extra"},[s("Icon",{attrs:{type:"md-people",color:"#808695"}}),t._v(" "),s("span",[t._v(t._s(t.group.memberNum))])],1)]):t._e(),s("Reconfirm",{ref:"reconfirm",attrs:{title:"Are you sure?",message:"This action cannot be undone. Are you sure to quit this group?","confirm-text":t.profile.username,"button-text":"I confirm to quit"}})],1)},i=[],a=s("5530"),o=s("c1df"),r=s.n(o),c=s("2957"),l=s("7b4f"),u=s("2f62"),d=s("c9d9"),p=s("7c15"),f={name:"GroupCard",components:{UserCard:c["a"],Reconfirm:l["a"]},inject:["reload"],props:{group:{type:Object,default:function(){return{owner:{}}}},size:{type:String,default:"default"},onClick:Function},filters:{timeformat:function(t,e){return"string"===typeof t&&(t=parseInt(t)),r()(new Date(t)).format(e)}},computed:Object(a["a"])(Object(a["a"])({},Object(u["d"])("user",["profile"])),{},{GROUP_STATUS_TYPE:function(){return d["e"]},GROUP_OPENNESS_TYPE:function(){return d["d"]},titleClasses:function(){return this.$listeners["click-title"]?"title__clickable ellipsis":""},imgClasses:function(){return this.$listeners["click-title"]?"title__clickable":""},descClasses:function(){return this.$listeners["click-title"]?"ellipsis":"no-ellipsis"},avatarSize:function(){return"default"===this.size?120:"small"===this.size?60:200},iconSize:function(){return"default"===this.size?40:25}}),methods:{handleJoin:function(){var t=this;this.$Modal.confirm({title:"Confirm join #".concat(this.group.groupId," "),content:"Do you want to join group ".concat(this.group.title," ?"),loading:!0,onOk:function(){p["a"].joinGroup({groupId:t.group.groupId}).then((function(e){t.$Message.success("Applied"),t.$Modal.remove(),t.reload()})).catch((function(e){t.$Message.error(e.message),t.reload()}))}})},handleQuit:function(){var t=this;this.$refs.reconfirm.reconfirm((function(){p["a"].quitGroup({groupId:t.group.groupId}).then((function(e){t.$Message.success("Group quited"),t.$Modal.remove(),t.reload()})).catch((function(e){t.$Message.error(e.message),t.reload()}))}))},clickTitle:function(){this.$listeners["click-title"]&&this.$emit("click-title",this.group.groupId)}}},m=f,g=(s("69bcc"),s("2877")),h=Object(g["a"])(m,n,i,!1,null,"638c6704",null);e["a"]=h.exports},2957:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"inline-block"}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media__left"},[s("img",{staticClass:"user-avatar",attrs:{src:t.avatar,width:t.size,height:t.size}})]),s("div",{staticClass:"media__body"},[s("p",[t._v(t._s(t.username))]),t.nickname?s("small",[t._v(t._s(t.nickname))]):t._e()])])])},i=[],a=(s("a9e3"),s("19e7")),o={name:"UserCard",props:{email:{type:String,default:""},username:{type:String,default:""},nickname:{type:String,default:""},size:{type:Number,default:32}},computed:{avatar:function(){return Object(a["a"])(this.email||"",this.size)}}},r=o,c=(s("c1ca"),s("2877")),l=Object(c["a"])(r,n,i,!1,null,"e087409a",null);e["a"]=l.exports},"2c1e":function(t,e,s){"use strict";var n=s("cbb1"),i=s.n(n);i.a},"2ca0":function(t,e,s){"use strict";var n=s("23e7"),i=s("06cf").f,a=s("50c4"),o=s("5a34"),r=s("1d80"),c=s("ab13"),l=s("c430"),u="".startsWith,d=Math.min,p=c("startsWith"),f=!l&&!p&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!f&&!p},{startsWith:function(t){var e=String(r(this));o(t);var s=a(d(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return u?u.call(e,n,s):e.slice(s,s+n.length)===n}})},3914:function(t,e,s){},"52c0":function(t,e,s){"use strict";var n=s("aede"),i=s.n(n);i.a},"666e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.spinShow?s("div",{staticClass:"spin-container center"},[s("Spin",{attrs:{size:"large",fix:""}})],1):s("Row",[s("Col",{attrs:{span:"18"}},[s("Card",{staticStyle:{"margin-right":"30px"},attrs:{"dis-hover":""}},[s("div",{staticClass:"profile-header"},[s("div",{staticClass:"profile-header__content"},[s("GroupCard",{attrs:{group:t.group}})],1)]),s("div",{staticClass:"profile-content"},[s("Tabs",{attrs:{value:"announcement",animated:!1},on:{"on-click":t.onClickTabs}},[s("TabPane",{attrs:{label:"Announcement",name:"announcement"}},[t.group.markdown?s("Markdown",{attrs:{value:t.group.markdown}}):t._e()],1),s("TabPane",{attrs:{label:"Contest",name:"contest"}},[s("ContestInGroup",{ref:"contestList"})],1)],1)],1)])],1),s("Col",{attrs:{span:"6"}},[s("Card",{attrs:{"dis-hover":"",title:"Members ("+t.members.length+")",padding:0}},[s("div",{staticClass:"card-extra",attrs:{slot:"extra"},slot:"extra"},[s("Input",{attrs:{placeholder:"Find",suffix:"ios-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("Scroll",{attrs:{height:500}},[s("List",{attrs:{size:"small"}},t._l(t.members,(function(t){return s("ListItem",{key:t.userId},[s("UserCard",{attrs:{email:t.email,username:t.username,nickname:t.nickname}})],1)})),1)],1)],1)],1)],1)],1)},i=[],a=(s("4de4"),s("d3b7"),s("ac1f"),s("841c"),s("2ca0"),s("14b6")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ContestList",{ref:"contestList"}),s("div",{staticClass:"float-left footer-tools"},[s("Select",{staticStyle:{width:"100px"},attrs:{size:"small",transfer:""},model:{value:t.selectContestMode,callback:function(e){t.selectContestMode=e},expression:"selectContestMode"}},[s("Option",{attrs:{value:"all",label:"All"}}),t._l(t.CONTEST_MODE,(function(t){return s("Option",{key:t,attrs:{value:t,label:t.toUpperCase()}})}))],2)],1),s("div",{staticClass:"float-right footer-pages"},[s("Page",{attrs:{size:"small","show-elevator":"","show-sizer":"",transfer:"",total:t.total,current:t.pageNow,"page-size":t.pageSize,"page-size-opts":t.pageSizeOpts},on:{"update:current":function(e){t.pageNow=e},"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.spinShow?s("div",{staticClass:"spin-container center"},[s("Spin",{attrs:{size:"large",fix:""}})],1):s("div",[s("List",{attrs:{size:"large","item-layout":"vertical"}},t._l(t.contestList,(function(e){return s("ListItem",{key:e.contestId},[s("div",{staticStyle:{"margin-right":"10px"},attrs:{slot:"extra"},slot:"extra"},[t.participatedContest.includes(e.contestId)?s("div",{staticStyle:{color:"#5cb85c"}},[s("Icon",{attrs:{type:"md-checkmark"}}),s("strong",[t._v(" Participated")])],1):t._e()]),s("ListItemMeta",[s("div",{staticClass:"contest__date numbox",attrs:{slot:"avatar"},slot:"avatar"},[s("div",{staticClass:"numbox__num__large"},[t._v(t._s(t._f("timeformat")(e.gmtStart,"DD")))]),s("div",{staticClass:"numbox__text"},[t._v(t._s(t._f("timeformat")(e.gmtStart,"yyyy-MM")))])]),s("div",{attrs:{slot:"title"},slot:"title"},[s("router-link",{attrs:{to:{name:"contest-detail",params:{contestId:e.contestId}},custom:""},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.href,a=n.navigate;return[s("a",{staticClass:"contest__title",attrs:{href:i},on:{click:a}},[t._v(t._s(e.contestTitle))])]}}],null,!0)}),e.features.openness===t.CONTEST_OPENNESS.PRIVATE?[t.participatedContest.includes(e.contestId)?s("Icon",{attrs:{type:"ios-unlock",color:"#d9534f",size:"19"}}):s("Icon",{attrs:{type:"md-lock",color:"#d9534f",size:"19"}})]:e.features.openness===t.CONTEST_OPENNESS.PROTECTED?[t.participatedContest.includes(e.contestId)?s("Icon",{attrs:{type:"ios-unlock",color:"orange",size:"19"}}):s("Icon",{attrs:{type:"md-lock",color:"orange",size:"19"}})]:t._e()],2),s("ul",{staticClass:"ivu-list-item-action",attrs:{slot:"description"},slot:"description"},[s("li",[s("div",{class:"contest-type--"+e.features.mode},[s("Icon",{attrs:{type:"md-bulb",color:"#fff"}}),t._v(" "),s("span",[t._v(t._s(e.features.mode.toUpperCase()))])],1)]),s("li",[t._v(" "+t._s(t._f("timeformat")(e.gmtStart,"HH:mm:ss"))+" ")]),s("li",[s("Icon",{attrs:{type:"ios-time-outline"}}),t._v(" "+t._s(t._f("time2hour")(e.gmtEnd-e.gmtStart))+" ")],1),s("li",[s("Icon",{attrs:{type:"ios-people-outline"}}),t._v(" "+t._s(e.participantNum)+" ")],1),s("li",[t.$store.state.now>e.gmtEnd?s("Tag",{attrs:{color:"green"}},[t._v("Finished")]):e.gmtStart<t.$store.state.now&&t.$store.state.now<e.gmtEnd?s("Tag",{attrs:{color:"gold"}},[t._v("Running")]):t._e(),0===e.isPublic?s("Tag",{attrs:{color:"red"}},[t._v("Private")]):t._e()],1)])])],1)})),1)],1)},l=[],u=s("c1df"),d=s.n(u),p=s("c9d9"),f=s("bedf"),m=s("7c15"),g=void 0,h={name:"ContestList",data:function(){return{contestList:[],participatedContest:[],spinShow:!1}},filters:{timeformat:function(t,e){return"string"===typeof t&&(t=parseInt(t)),d()(new Date(t)).format(e)},time2hour:function(t){return Object(f["c"])(t)},contestStatus:function(t){var e=g.$store.store.now;return t.contestStartTime>e?p["c"].UPCOMING:t.contestEndTime<e?p["c"].FINISHED:p["c"].RUNNING}},methods:{toContestDetail:function(t){this.$router.push({name:"contest-detail",params:{contestId:t}})},getContestList:function(t){var e=this;return new Promise((function(s,n){e.spinShow=!0,m["a"].getContestList(t).then((function(t){e.contestList=t.rows,s(t)})).catch(n).finally((function(){e.spinShow=!1}))}))},getParticipatedContests:function(){var t=this;return new Promise((function(e,s){m["a"].getParticipatedContests().then((function(s){t.participatedContest=s,e(s)})).catch(s)}))}},computed:{CONTEST_OPENNESS:function(){return p["b"]},CONTEST_MODE:function(){return p["a"]},CONTEST_STATUS:function(){return p["c"]}}},_=h,v=(s("2c1e"),s("2877")),C=Object(v["a"])(_,c,l,!1,null,"3fc8183c",null),S=C.exports,b={name:"ContestInGroup",components:{ContestList:S},data:function(){return{pageNow:1,pageSize:15,pageSizeOpts:[15,30,50,100],total:0,selectContestMode:"all",groupId:void 0}},methods:{onPageChange:function(t){this.pageNow=t},onPageSizeChange:function(t){this.pageSize=t},onSort:function(t){var e=t.key,s=t.order;"normal"===s?(this.sortBy="",this.ascending=!1):(this.sortBy=e,this.ascending="asc"===s)},setGroupId:function(t){this.groupId=t},getContestList:function(){var t=this;void 0!==this.groupId&&null!==this.groupId?(this.$refs.contestList.getContestList({groupId:this.groupId,pageNow:this.pageNow,pageSize:this.pageSize,mode:"all"===this.selectContestMode?"":this.selectContestMode}).then((function(e){t.total=parseInt(e.totalPage)*t.pageSize})).catch((function(e){t.$Message.error(e.message)})),this.$refs.contestList.getParticipatedContests().catch((function(e){t.$Message.error(e.message)}))):this.$Message.error("Invalid Group ID")}},watch:{pageSize:function(){this.getContestList()},pageNow:function(){this.getContestList()},sort:function(){this.getContestList()},ascending:function(){this.getContestList()},selectContestMode:function(){this.getContestList()}},computed:{CONTEST_MODE:function(){return p["a"]}}},y=b,I=Object(v["a"])(y,o,r,!1,null,"94e7d05c",null),k=I.exports,z=s("1af7"),T=s("2957"),w={name:"GroupDetailView",components:{Markdown:a["a"],ContestInGroup:k,UserCard:T["a"],GroupCard:z["a"]},data:function(){return{group:{owner:{},members:[]},spinShow:!1,search:""}},methods:{getGroupDetail:function(t){var e=this;this.spinShow=!0,m["a"].getGroupDetail({groupId:t}).then((function(t){e.group=t})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.spinShow=!1}))},getContestList:function(){this.$refs.contestList.setGroupId(this.groupId),this.$refs.contestList.getContestList()},onClickTabs:function(t){"contest"===t&&this.getContestList()}},computed:{groupId:function(){return this.$route.params.groupId},members:function(){var t=this;return""===this.search?this.group.members:this.group.members.filter((function(e){return String(e.userId)===t.search||e.username.startsWith(t.search)||e.nickname.startsWith(t.search)}))}},mounted:function(){this.getGroupDetail(this.groupId)}},E=w,x=(s("52c0"),Object(v["a"])(E,n,i,!1,null,"ade9a300",null));e["default"]=x.exports},"69bcc":function(t,e,s){"use strict";var n=s("b1bd"),i=s.n(n);i.a},"7b4f":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{title:t.title,witdh:"446px",transfer:""},model:{value:t.modalFlag,callback:function(e){t.modalFlag=e},expression:"modalFlag"}},[s("div",{staticClass:"warnDiv"},[s("div",{domProps:{innerHTML:t._s(t.message)}})]),s("div",{staticClass:"confirmText",staticStyle:{"margin-top":"36px"}},[s("div",[s("span",[t._v("Please type ")]),s("strong",[t._v(t._s(t.confirmText))]),s("span",[t._v(" to confirm.")])]),s("Input",{staticStyle:{width:"100%"},on:{"on-change":t.checkTypein},model:{value:t.typein,callback:function(e){t.typein=e},expression:"typein"}})],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{staticClass:"confirmButton",attrs:{long:"",type:"error",disabled:!t.checked},on:{click:t.callback}},[t._v(t._s(t.buttonText))])],1)])},i=[],a=function(){},o={name:"Reconfirm",props:{title:{type:String,default:"Reconfirm"},message:{type:String,default:""},confirmText:{type:String,default:""},buttonText:{type:String,default:"Confirm"}},data:function(){return{modalFlag:!1,typein:"",checked:!1,callback:a}},methods:{reconfirm:function(t){this.callback=t,this.typein="",this.modalFlag=!0},checkTypein:function(){this.checked=this.typein===this.confirmText}}},r=o,c=(s("10c7"),s("2877")),l=Object(c["a"])(r,n,i,!1,null,"c3322122",null);e["a"]=l.exports},"841c":function(t,e,s){"use strict";var n=s("d784"),i=s("825a"),a=s("1d80"),o=s("129f"),r=s("14c3");n("search",1,(function(t,e,s){return[function(e){var s=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s):new RegExp(e)[t](String(s))},function(t){var n=s(e,t,this);if(n.done)return n.value;var a=i(t),c=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var u=r(a,c);return o(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},aede:function(t,e,s){},b1bd:function(t,e,s){},c1ca:function(t,e,s){"use strict";var n=s("3914"),i=s.n(n);i.a},cbb1:function(t,e,s){}}]);
//# sourceMappingURL=chunk-23cce626.09abc0e4.js.map