(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35ecfae6"],{"0c79":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("strong",[e._v(e._s(e.oj))]),e._v("-"+e._s(e.code)+" ")])},i=[],o=(n("ac1f"),n("1276"),{name:"ProblemCode",props:{problemCode:{type:String,default:"-"}},computed:{oj:function(){return this.problemCode.split("-")[0]},code:function(){return this.problemCode.split("-")[1]}}}),r=o,u=n("2877"),a=Object(u["a"])(r,s,i,!1,null,"5306d58a",null);t["a"]=a.exports},1276:function(e,t,n){"use strict";var s=n("d784"),i=n("44e7"),o=n("825a"),r=n("1d80"),u=n("4840"),a=n("8aa5"),l=n("50c4"),c=n("14c3"),d=n("9263"),p=n("d039"),m=[].push,f=Math.min,h=4294967295,g=!p((function(){return!RegExp(h,"y")}));s("split",2,(function(e,t,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var s=String(r(this)),o=void 0===n?h:n>>>0;if(0===o)return[];if(void 0===e)return[s];if(!i(e))return t.call(s,e,o);var u,a,l,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=new RegExp(e.source,p+"g");while(u=d.call(g,s)){if(a=g.lastIndex,a>f&&(c.push(s.slice(f,u.index)),u.length>1&&u.index<s.length&&m.apply(c,u.slice(1)),l=u[0].length,f=a,c.length>=o))break;g.lastIndex===u.index&&g.lastIndex++}return f===s.length?!l&&g.test("")||c.push(""):c.push(s.slice(f)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=r(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):s.call(String(i),t,n)},function(e,i){var r=n(s,e,this,i,s!==t);if(r.done)return r.value;var d=o(e),p=String(this),m=u(d,RegExp),b=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),v=new m(g?d:"^(?:"+d.source+")",y),C=void 0===i?h:i>>>0;if(0===C)return[];if(0===p.length)return null===c(v,p)?[p]:[];var j=0,S=0,R=[];while(S<p.length){v.lastIndex=g?S:0;var w,I=c(v,g?p:p.slice(S));if(null===I||(w=f(l(v.lastIndex+(g?0:S)),p.length))===j)S=a(p,S,b);else{if(R.push(p.slice(j,S)),R.length===C)return R;for(var _=1;_<=I.length-1;_++)if(R.push(I[_]),R.length===C)return R;S=j=w}}return R.push(p.slice(j)),R}]}),!g)},"369e":function(e,t,n){"use strict";var s=n("92bc"),i=n.n(s);i.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var s=n("1d80"),i=n("5899"),o="["+i+"]",r=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),a=function(e){return function(t){var n=String(s(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(e,t,n){var s=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var o,r;return i&&"function"==typeof(o=t.constructor)&&o!==n&&s(r=o.prototype)&&r!==n.prototype&&i(e,r),e}},"75e9":function(e,t,n){"use strict";var s=n("a189"),i=n.n(s);i.a},8035:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"judge-result"},[n("Icon",{attrs:{type:e.judgeResult.icon,color:e.judgeResult.color}}),n("span",{class:e.judgeResult.css+" hover"},[e._v(e._s(e.abbr?e.judgeResult.abbr:e.judgeResult.name))])],1)},i=[],o=(n("a9e3"),n("c9d9")),r={props:{result:{type:Number,default:0},abbr:{type:Boolean,default:!1}},computed:{judgeResult:function(){return o["d"][this.result]}}},u=r,a=(n("369e"),n("2877")),l=Object(a["a"])(u,s,i,!1,null,"581dbf90",null);t["a"]=l.exports},8361:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Card",{staticClass:"filter",attrs:{"dis-hover":"",padding:0}},[n("h3",{staticStyle:{display:"inline"},attrs:{slot:"title"},slot:"title"},[e._v("Filter")]),n("div",{staticClass:"btns card-extra",attrs:{slot:"extra"},slot:"extra"},[n("Button",{attrs:{type:"text"},on:{click:e.onFiltering}},[e._v("Filter")]),n("Button",{attrs:{type:"text"},on:{click:e.onReset}},[e._v("Reset")])],1),n("Row",{staticClass:"clearfix filter-sets"},[n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"filter-title"},[e._v("By Username")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Username"},on:{"on-enter":e.onFiltering},model:{value:e.tUsername,callback:function(t){e.tUsername=t},expression:"tUsername"}})],1),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"filter-title"},[e._v("By Problem")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Problem"},on:{"on-enter":e.onFiltering},model:{value:e.tProblemCode,callback:function(t){e.tProblemCode=t},expression:"tProblemCode"}})],1),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"filter-title"},[e._v("By Judge Result")]),n("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.tJudgeResult,callback:function(t){e.tJudgeResult=t},expression:"tJudgeResult"}},e._l(e.JUDGE_RESULT_TYPE,(function(e){return n("Option",{key:e.value,attrs:{value:e.value,label:e.label}},[n("JudgeResult",{attrs:{result:e.value}})],1)})),1)],1),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"filter-title"},[e._v("By Judge Template")]),n("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"Judge Template"},on:{"on-enter":e.onFiltering},model:{value:e.tJudgeTemplate,callback:function(t){e.tJudgeTemplate=t},expression:"tJudgeTemplate"}})],1)],1)],1),n("SubmissionList",{ref:"SubmissionList",attrs:{selection:e.canDoRejudge},on:{"update-total-page":e.onUpdateTotal,"on-selection-change":e.onSelectionChange,"on-sort":e.onSort,"on-cell-click":e.onSubmissionListCellClick}},[[e.canDoRejudge?n("div",{staticClass:"left footer-btns"},[n("Button",{on:{click:function(t){return e.handleRejudge(e.selectedSubmissions)}}},[n("Icon",{attrs:{type:"md-refresh"}}),e._v(" Rejudge")],1)],1):e._e(),n("div",{staticClass:"right footer-pages"},[n("Page",{attrs:{size:"small","show-elevator":"","show-sizer":"",total:e.total,current:e.pageNow,"page-size":e.pageSize,"page-size-opts":e.pageSizeOpts},on:{"update:current":function(t){e.pageNow=t},"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)]],2)],1)},i=[],o=(n("4de4"),n("4160"),n("d81d"),n("b0c0"),n("b64b"),n("159b"),n("5530")),r=n("bf9c"),u=n("8035"),a=n("2f62"),l=n("7c15"),c=n("c9d9"),d=n("e325"),p={name:"SubmissionView",components:{SubmissionList:r["a"],JudgeResult:u["a"]},mixins:[d["a"]],data:function(){return{tUsername:"",tProblemCode:"",tJudgeResult:"",tJudgeTemplate:"",selectedSubmissions:[]}},methods:{onFiltering:function(){this.username=this.tUsername,this.problemCode=this.tProblemCode,this.judgeResult=this.tJudgeResult,this.judgeTemplate=this.tJudgeTemplate},onReset:function(){this.username="",this.problemCode="",this.judgeResult="",this.judgeTemplate=""},onSubmissionListCellClick:function(e,t){var n=this.contestId?"contest-submission-detail":"submission-detail";switch(t.key){case"judgeResult":this.$router.push({name:n,params:{submissionId:e.submissionId}});break}},onSelectionChange:function(e){this.selectedSubmissions=e},onUpdateTotal:function(e){this.total=e*this.pageSize},handleRejudge:function(e){var t=this;console.log(e),0!==e.length?l["a"].rejudge(e.map((function(e){return e.submissionId}))).then((function(e){t.$Message.success("Rejudging"),t.getSubmissionList()})):this.$Message.error("Select submissions")},getSubmissionList:function(){this.$refs.SubmissionList.querySubmissionList({username:this.username,problemCode:this.problemCode,judgeResult:this.judgeResult,judgeTemplate:this.judgeTemplate,pageNow:this.pageNow,pageSize:this.pageSize,sortBy:this.sortBy,ascending:this.ascending})}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(a["d"])("contest",["contest"])),Object(a["c"])("contest",["contestId"])),Object(a["c"])("user",["isAdmin","isLogin","username"])),{},{username:{get:function(){return this.$route.params.username||this.$route.query.username||""},set:function(e){this.$route.query.username!==e&&this.$router.push({query:Object(o["a"])(Object(o["a"])({},this.$route.query),{},{username:e})})}},problemCode:{get:function(){return this.$route.params.problemCode||this.$route.query.problemCode||""},set:function(e){this.$route.query.problemCode!==e&&this.$router.push({query:Object(o["a"])(Object(o["a"])({},this.$route.query),{},{problemCode:e})})}},judgeResult:{get:function(){return this.$route.params.judgeResult||this.$route.query.judgeResult||""},set:function(e){console.log(e),this.$route.query.judgeResult!==e&&this.$router.push({query:Object(o["a"])(Object(o["a"])({},this.$route.query),{},{judgeResult:e})})}},judgeTemplate:{get:function(){return this.$route.params.judgeTemplate||this.$route.query.judgeTemplate||""},set:function(e){this.$route.query.judgeTemplate!==e&&this.$router.push({query:Object(o["a"])(Object(o["a"])({},this.$route.query),{},{judgeTemplate:e})})}},canDoRejudge:function(){return!!(this.isAdmin||this.contestId&&this.isLogin&&this.username===this.contest.username)},JUDGE_RESULT_TYPE:function(){var e=[];return Object.keys(c["e"]).filter((function(e){return c["e"][e]>=0})).forEach((function(t){e.push({value:c["e"][t],label:c["d"][c["e"][t]].name})})),e}}),mounted:function(){this.tUsername=this.username,this.tProblemCode=this.problemCode,this.tJudgeResult=this.judgeResult,this.tJudgeTemplate=this.judgeTemplate,this.getSubmissionList()},watch:{$route:function(){this.getSubmissionList()},tJudgeResult:function(){this.judgeResult=this.tJudgeResult}}},m=p,f=(n("75e9"),n("2877")),h=Object(f["a"])(m,s,i,!1,null,"2faa0b56",null);t["default"]=h.exports},"92bc":function(e,t,n){},a189:function(e,t,n){},a9e3:function(e,t,n){"use strict";var s=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),u=n("5135"),a=n("c6b6"),l=n("7156"),c=n("c04e"),d=n("d039"),p=n("7c73"),m=n("241c").f,f=n("06cf").f,h=n("9bf2").f,g=n("58a8").trim,b="Number",y=i[b],v=y.prototype,C=a(p(v))==b,j=function(e){var t,n,s,i,o,r,u,a,l=c(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+l}for(o=l.slice(2),r=o.length,u=0;u<r;u++)if(a=o.charCodeAt(u),a<48||a>i)return NaN;return parseInt(o,s)}return+l};if(o(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,R=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof R&&(C?d((function(){v.valueOf.call(n)})):a(n)!=b)?l(new y(j(t)),n,R):j(t)},w=s?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;w.length>I;I++)u(y,S=w[I])&&!u(R,S)&&h(R,S,f(y,S));R.prototype=v,v.constructor=R,r(i,b,R)}},b0c0:function(e,t,n){var s=n("83ab"),i=n("9bf2").f,o=Function.prototype,r=o.toString,u=/^\s*function ([^ (]*)/,a="name";s&&!(a in o)&&i(o,a,{configurable:!0,get:function(){try{return r.call(this).match(u)[1]}catch(e){return""}}})},b539:function(e,t,n){},bf9c:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{staticClass:"clearfix",attrs:{"dis-hover":"",padding:0}},[n("Table",{staticClass:"data-table",attrs:{size:e.size,"show-header":e.showHeader,"no-data-text":e.noDataText,columns:e.filteredColumns,data:e.submissions,loading:e.loading},on:{"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSort,"on-cell-click":e.onCellClick},scopedSlots:e._u([{key:"id",fn:function(t){var s=t.row;return[n("router-link",{attrs:{to:{name:e.contestId?"contest-submission-detail":"submission-detail",params:{submissionId:s.submissionId}}}},[e._v(e._s(s.submissionId))])]}},{key:"title",fn:function(t){var s=t.row;return[n("router-link",{attrs:{to:{name:e.contestId?"contest-problem":"problem-detail",params:{problemCode:s.problemCode}}}},[e._v(e._s(s.problemTitle))])]}},{key:"judge-result",fn:function(e){var t=e.row;return[n("JudgeResult",{attrs:{result:t.judgeResult}})]}},{key:"time",fn:function(t){var s=t.row;return[n("span",{staticClass:"time"},[e._v(e._s(s.usedTime||0))])]}},{key:"mem",fn:function(t){var s=t.row;return[n("span",{staticClass:"mem"},[e._v(e._s(s.usedMemory||0))])]}},{key:"submit-time",fn:function(t){var s=t.row;return[n("Tooltip",{attrs:{content:e._f("timeformat")(s.gmtCreate,"yyyy-MM-DD HH:mm:ss"),transfer:""}},[n("span",[e._v(e._s(e._f("fromnow")(s.gmtCreate)))])])]}}])}),n("div",[e._t("default")],2)],1)},i=[],o=(n("99af"),n("4de4"),n("caad"),n("d3b7"),n("2532"),n("5530")),r=n("0c79"),u=n("8035"),a=n("bedf"),l=n("7c15"),c=n("4360"),d=n("2f62"),p=n("c1df"),m=n.n(p),f={name:"SubmissionList",components:{JudgeResult:u["a"]},props:{selection:{type:Boolean,default:!1},size:{type:String,default:"default"},showHeader:{type:Boolean,default:!0},doRejudge:{type:Boolean,default:!1},noDataText:{type:String,default:""},bannedKey:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[{title:"#",key:"submissionId",minWidth:60,slot:"id"},{title:"Username",key:"username"},{title:"Problem",key:"problemCode",minWidth:15,render:function(e,t){if(c["a"].state.contest.contest.contestId)return e("strong",Object(a["a"])(t.row.problemCode));if(void 0!==t.row.problemCode){if(t.row.problemCode.length>20){var n=t.row.problemCode.substring(0,20)+"...";return e("Tooltip",{props:{placement:"top",maxWidth:"180"}},[e(r["a"],{props:{problemCode:n}}),e("span",{slot:"content",style:{whiteSpace:"normal",wordBreak:"break-all"}},t.row.problemCode)])}return e(r["a"],{props:{problemCode:t.row.problemCode}})}}},{title:"Title",key:"problemTitle",slot:"title"},{title:"Judge Result",key:"judgeResult",slot:"judge-result",minWidth:95},{title:"Time",key:"usedTime",slot:"time",sortable:!0,maxWidth:100},{title:"Memory",key:"usedMemory",slot:"mem",sortable:!0,maxWidth:120},{title:"Template",key:"judgeTemplateTitle"},{title:"Submit Time",key:"gmtCreate",sortable:!0,slot:"submit-time"}]}}},filters:{timeformat:function(e,t){return"string"===typeof e&&(e=parseInt(e)),m()(new Date(e)).format(t)},fromnow:function(e){return"string"===typeof e&&(e=parseInt(e)),m()(new Date(e)).fromNow()}},data:function(){return{filteredColumns:[],submissions:[],loading:!1}},computed:Object(o["a"])({},Object(d["c"])("contest",["contestId"])),methods:{onSort:function(e){this.$emit("on-sort",e)},onCellClick:function(e,t,n,s){this.$emit("on-cell-click",e,t,n,s)},onSelectionChange:function(e){this.$emit("on-selection-change",e)},querySubmissionList:function(e){var t=this;this.loading=!0,l["a"].getSubmissionList(Object(o["a"])(Object(o["a"])({},e),{},{contestId:this.contestId})).then((function(e){t.submissions=e.rows,t.$emit("update-total-page",parseInt(e.totalPage))})).finally((function(){return t.loading=!1}))}},created:function(){var e=this;this.filteredColumns=this.columns.filter((function(t){return!e.bannedKey.includes(t.key)})),this.selection&&(this.filteredColumns=[{type:"selection",width:60}].concat(this.filteredColumns))}},h=f,g=(n("c42d"),n("2877")),b=Object(g["a"])(h,s,i,!1,null,"34e112ea",null);t["a"]=b.exports},c42d:function(e,t,n){"use strict";var s=n("b539"),i=n.n(s);i.a},e325:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("5530"),i={data:function(){return{pageSizeOpts:[15,30,50,100],total:0}},methods:{onPageChange:function(e){this.pageNow=e},onPageSizeChange:function(e){this.pageSize=e},onSort:function(e){var t=e.key,n=e.order;"normal"===n?(this.sortBy="",this.ascending=!1):(this.sortBy=t,this.ascending="asc"===n)}},computed:{pageNow:{get:function(){return parseInt(this.$route.query.pageNow)||1},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{pageNow:e})})}},pageSize:{get:function(){return parseInt(this.$route.query.pageSize)||15},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{pageSize:e})})}},sortBy:{get:function(){return this.$route.query.sortBy||""},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{sortBy:e})})}},ascending:{get:function(){return this.$route.query.ascending||""},set:function(e){this.$router.push({query:Object(s["a"])(Object(s["a"])({},this.$route.query),{},{ascending:e})})}}}}}}]);
//# sourceMappingURL=chunk-35ecfae6.451ee98a.js.map