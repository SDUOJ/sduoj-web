{"version":3,"sources":["webpack:///./src/components/contest/ContestProcess.vue?df0a","webpack:///./src/views/contest/ContestDetailView.vue?bb0b","webpack:///./src/components/contest/ContestProcess.vue?5fb0","webpack:///src/components/contest/ContestProcess.vue","webpack:///./src/components/contest/ContestProcess.vue?54dc","webpack:///./src/components/contest/ContestProcess.vue","webpack:///src/views/contest/ContestDetailView.vue","webpack:///./src/views/contest/ContestDetailView.vue?20eb","webpack:///./src/views/contest/ContestDetailView.vue","webpack:///./src/views/contest/ContestDetailView.vue?fea9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","contest","contestTitle","source","contestOpenness","CONTEST_OPENNESS","PRIVATE","attrs","PROTECTED","_e","class","contestMode","toUpperCase","_f","contestDuration","participantNum","hasParticipatedIn","on","$event","contestSettingsModal","markdownDescription","$route","path","split","name","contestStarted","$store","getters","params","problemCode","contestStatus","CONTEST_STATUS","FINISHED","sliderTime","contestStartTime","countdown","model","value","callback","$$v","expression","showPractice","exportLoading","exportRank","staticRenderFns","currentPercent","RUNNING","format","contestEndTime","filters","time2hour","computed","get","Math","min","parseInt","duration","set","percent","commit","CONTEST_MODE","component","components","inject","data","contestSettingsForm","state","settings","dispatch","methods","excel","export_json_to_excel","filename","beforeCreate","contestId","catch","beforeDestroy"],"mappings":"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","file":"js/chunk-cee9b998.9d07d944.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--14-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestProcess.vue?vue&type=style&index=0&id=62698d9c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--14-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestProcess.vue?vue&type=style&index=0&id=62698d9c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.contestLoaded)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"contest__header clearfix\"},[_c('div',{staticClass:\"contest__title\"},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.contest.contestTitle))]),_c('span',{staticClass:\"contest__subtitle\"},[_vm._v(_vm._s(_vm.contest.source))]),(_vm.contestOpenness === _vm.CONTEST_OPENNESS.PRIVATE)?[(_vm.hasParticipatedIn)?_c('Icon',{attrs:{\"type\":\"ios-unlock\",\"color\":\"#d9534f\",\"size\":\"19\"}}):_c('Icon',{attrs:{\"type\":\"md-lock\",\"color\":\"#d9534f\",\"size\":\"19\"}})]:(_vm.contestOpenness === _vm.CONTEST_OPENNESS.PROTECTED)?[(_vm.hasParticipatedIn)?_c('Icon',{attrs:{\"type\":\"ios-unlock\",\"color\":\"orange\",\"size\":\"19\"}}):_c('Icon',{attrs:{\"type\":\"md-lock\",\"color\":\"orange\",\"size\":\"19\"}})]:_vm._e(),_c('ul',{staticClass:\"ivu-list-item-action contest__float\"},[(_vm.hasParticipatedIn)?_c('li',{staticStyle:{\"color\":\"#5cb85c\"}},[_c('Icon',{attrs:{\"type\":\"md-checkmark\"}}),_c('span',[_vm._v(\" Participated\")])],1):_vm._e(),_c('li',[_c('div',{class:(\"contest-type--\" + _vm.contestMode)},[_c('Icon',{attrs:{\"type\":\"md-bulb\",\"color\":\"#fff\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.contestMode.toUpperCase()))])],1)]),_c('li',[_c('Icon',{attrs:{\"type\":\"ios-time-outline\"}}),_vm._v(\" \"+_vm._s(_vm._f(\"time2hour\")(_vm.contestDuration))+\" \")],1),_c('li',[_c('Icon',{attrs:{\"type\":\"ios-people-outline\"}}),_vm._v(\" \"+_vm._s(_vm.contest.participantNum)+\" \")],1),(_vm.contestOpenness !== _vm.CONTEST_OPENNESS.PRIVATE || _vm.hasParticipatedIn)?_c('li',[_c('div',{staticClass:\"hover-background\",on:{\"click\":function($event){_vm.contestSettingsModal=true}}},[_c('Icon',{attrs:{\"type\":\"md-settings\",\"size\":20}})],1)]):_vm._e()])],2),_c('div',[_c('Markdown',{staticStyle:{\"min-height\":\"0\"},attrs:{\"value\":_vm.contest.markdownDescription}}),_c('ContestProcess')],1)]),(_vm.contestLoaded)?_c('Menu',{staticClass:\"contest__menu\",attrs:{\"mode\":\"horizontal\",\"theme\":\"light\",\"active-name\":_vm.$route.path.split('/')[3]}},[_c('MenuItem',{attrs:{\"name\":\"overview\",\"to\":{\n        name: 'contest-overview'\n      }}},[_c('span',{staticClass:\"span__menu\"},[_vm._v(\"Overview\")])]),(_vm.contestStarted && (_vm.$store.getters['contest/hasParticipatedIn'] || _vm.contestOpenness === _vm.CONTEST_OPENNESS.PROTECTED))?[_c('MenuItem',{attrs:{\"name\":\"problem\",\"to\":{\n          name: 'contest-problem',\n          params: { problemCode: '1' }\n        }}},[_c('span',{staticClass:\"span__menu\"},[_vm._v(\"Problem\")])]),_c('MenuItem',{attrs:{\"name\":\"submission\",\"to\":{ name: 'contest-submission' }}},[_c('span',{staticClass:\"span__menu\"},[_vm._v(\"Status\")])]),_c('MenuItem',{attrs:{\"name\":\"rank\",\"to\":{\n          name: 'contest-rank',\n        }}},[_c('span',{staticClass:\"span__menu\"},[_vm._v(\"Rank\")])])]:_vm._e(),_c('div',{staticClass:\"contest__countdown\"},[(_vm.contestStatus === _vm.CONTEST_STATUS.FINISHED)?[(_vm.sliderTime)?_c('strong',[_vm._v(\" \"+_vm._s(_vm._f(\"time2hour\")((_vm.sliderTime - _vm.contestStartTime))))]):_c('strong',[_vm._v(\"Finished\")])]:[_c('strong',[_vm._v(_vm._s(_vm.countdown))])]],2)],2):_vm._e(),_c('Modal',{attrs:{\"title\":\"Settings\",\"footer-hide\":\"\",\"scrollable\":\"\"},model:{value:(_vm.contestSettingsModal),callback:function ($$v) {_vm.contestSettingsModal=$$v},expression:\"contestSettingsModal\"}},[_c('Form',[_c('FormItem',{attrs:{\"label\":\"Show Practice\"}},[_c('i-switch',{model:{value:(_vm.showPractice),callback:function ($$v) {_vm.showPractice=$$v},expression:\"showPractice\"}})],1),_c('FormItem',{attrs:{\"label\":\"Export\"}},[_c('Button',{attrs:{\"loading\":_vm.exportLoading},on:{\"click\":_vm.exportRank}},[_vm._v(\"Rank\")])],1)],1)],1)],1),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tools clearfix\"},[_c('div',{staticClass:\"clearfix\",staticStyle:{\"margin\":\"10px 3px\"}},[_c('div',[(_vm.contestStatus === _vm.CONTEST_STATUS.FINISHED)?_c('Slider',{attrs:{\"show-tip\":\"never\",\"step\":0.001},model:{value:(_vm.currentPercent),callback:function ($$v) {_vm.currentPercent=$$v},expression:\"currentPercent\"}}):(_vm.contestStatus === _vm.CONTEST_STATUS.RUNNING)?_c('Progress',{attrs:{\"percent\":_vm.currentPercent,\"hide-info\":\"\",\"status\":\"active\",\"stroke-width\":4}}):_vm._e()],1),_c('div',{staticStyle:{\"float\":\"left\"}},[_c('span',[_vm._v(\"Begin: \")]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.contestStartTime.format('yyyy-MM-DD HH:mm:ss')))])]),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('span',[_vm._v(\"End: \")]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.contestEndTime.format('yyyy-MM-DD HH:mm:ss')))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n   Copyright 2020-2021 the original author or authors.\n\n   Licensed under the General Public License, Version 3.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n        https://www.gnu.org/licenses/gpl-3.0.en.html\n -->\n\n<template>\n  <div class=\"tools clearfix\">\n    <div class=\"clearfix\" style=\"margin: 10px 3px\">\n      <div>\n        <Slider v-model=\"currentPercent\" v-if=\"contestStatus === CONTEST_STATUS.FINISHED\" show-tip=\"never\" :step=\"0.001\"/>\n        <Progress :percent=\"currentPercent\" v-else-if=\"contestStatus === CONTEST_STATUS.RUNNING\" hide-info status=\"active\" :stroke-width=\"4\" />\n      </div>\n      <div style=\"float: left\">\n        <span>Begin: </span>\n        <span class=\"time\">{{ contestStartTime.format('yyyy-MM-DD HH:mm:ss') }}</span>\n      </div>\n      <div style=\"float: right\">\n        <span>End: </span>\n        <span class=\"time\">{{ contestEndTime.format('yyyy-MM-DD HH:mm:ss') }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment';\nimport { mapState, mapGetters } from 'vuex';\nimport { s2hs } from '_u/transform';\nimport { CONTEST_STATUS, CONTEST_MODE } from '_u/constants';\n\nexport default {\n  name: 'ContestProcess',\n  filters: {\n    time2hour: time => s2hs(time)\n  },\n  computed: {\n    ...mapState('contest', ['sliderTime']),\n    ...mapGetters('contest', [\n      'contestStatus',\n      'contestStartTime',\n      'contestEndTime',\n      'contestDuration'\n    ]),\n    currentPercent: {\n      get: function() {\n        const now = this.$store.state.now;\n        const duration = moment(now - this.contestStartTime);\n        return Math.min(100, parseInt(duration / this.contestDuration * 100));\n      },\n      set: function (percent) {\n        if (percent === 100) {\n          this.$store.commit('contest/setSliderTime', { sliderTime: null });\n        } else {\n          this.$store.commit('contest/setSliderTime', {\n            sliderTime: this.contestStartTime + parseInt(this.contestDuration * percent / 100)\n          });\n        }\n      }\n    },\n    CONTEST_MODE: () => CONTEST_MODE,\n    CONTEST_STATUS: () => CONTEST_STATUS\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  /deep/ .ivu-slider-button {\n    position: relative;\n    top: -4px;\n  }\n  .tools {\n    margin-top: 10px;\n    background: #f9f9f9;\n\n    .time {\n      color: rgba(0, 0, 0, 0.45);\n      font-size: 14px;\n      line-height: 22px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContestProcess.vue?vue&type=template&id=62698d9c&scoped=true&\"\nimport script from \"./ContestProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./ContestProcess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContestProcess.vue?vue&type=style&index=0&id=62698d9c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62698d9c\",\n  null\n  \n)\n\nexport default component.exports","<!--\n   Copyright 2020-2021 the original author or authors.\n\n   Licensed under the General Public License, Version 3.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n        https://www.gnu.org/licenses/gpl-3.0.en.html\n -->\n\n<template>\n  <div class=\"container\" v-if=\"contestLoaded\">\n    <div class=\"contest__header clearfix\">\n      <div class=\"contest__title\">\n        <div style=\"margin-bottom: 15px\">\n          <span class=\"title\">{{ contest.contestTitle }}</span>\n          <span class=\"contest__subtitle\">{{ contest.source }}</span>\n          <template v-if=\"contestOpenness === CONTEST_OPENNESS.PRIVATE\">\n            <Icon type=\"ios-unlock\" color=\"#d9534f\" size=\"19\" v-if=\"hasParticipatedIn\"/>\n            <Icon type=\"md-lock\" color=\"#d9534f\" size=\"19\" v-else />\n          </template>\n          <template v-else-if=\"contestOpenness === CONTEST_OPENNESS.PROTECTED\">\n            <Icon type=\"ios-unlock\" color=\"orange\" size=\"19\" v-if=\"hasParticipatedIn\"/>\n            <Icon type=\"md-lock\" color=\"orange\" size=\"19\" v-else/>\n          </template>\n          <ul class=\"ivu-list-item-action contest__float\">\n            <li v-if=\"hasParticipatedIn\" style=\"color: #5cb85c\">\n              <Icon type=\"md-checkmark\" /><span>&nbsp;Participated</span>\n            </li>\n            <li>\n              <div :class=\"`contest-type--${contestMode}`\">\n                <Icon type=\"md-bulb\" color=\"#fff\"/>&nbsp;\n                <span>{{ contestMode.toUpperCase() }}</span>\n              </div>\n            </li>\n            <li>\n              <Icon type=\"ios-time-outline\"/>\n              {{ contestDuration | time2hour }}\n            </li>\n            <li>\n              <Icon type=\"ios-people-outline\"/>\n              {{ contest.participantNum }}\n            </li>\n            <li v-if=\"contestOpenness !== CONTEST_OPENNESS.PRIVATE || hasParticipatedIn\">\n              <div class=\"hover-background\" @click=\"contestSettingsModal=true\">\n                <Icon type=\"md-settings\" :size=\"20\"/>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div>\n          <Markdown style=\"min-height: 0\" :value=\"contest.markdownDescription\" />\n          <ContestProcess />\n        </div>\n      </div>\n      <Menu mode=\"horizontal\" theme=\"light\" :active-name=\"$route.path.split('/')[3]\" class=\"contest__menu\" v-if=\"contestLoaded\">\n        <MenuItem name=\"overview\" :to=\"{\n          name: 'contest-overview'\n        }\">\n          <span class=\"span__menu\">Overview</span>\n        </MenuItem>\n        <template v-if=\"contestStarted && ($store.getters['contest/hasParticipatedIn'] || contestOpenness === CONTEST_OPENNESS.PROTECTED)\">\n          <MenuItem name=\"problem\" :to=\"{\n            name: 'contest-problem',\n            params: { problemCode: '1' }\n          }\">\n            <span class=\"span__menu\">Problem</span>\n          </MenuItem>\n          <MenuItem name=\"submission\" :to=\"{ name: 'contest-submission' }\">\n            <span class=\"span__menu\">Status</span>\n          </MenuItem>\n          <MenuItem name=\"rank\" :to=\"{\n            name: 'contest-rank',\n          }\">\n            <span class=\"span__menu\">Rank</span>\n          </MenuItem>\n        </template>\n        <div class=\"contest__countdown\">\n          <template v-if=\"contestStatus === CONTEST_STATUS.FINISHED\">\n            <strong v-if=\"sliderTime\"> {{ (sliderTime - contestStartTime) | time2hour }}</strong>\n            <strong v-else>Finished</strong>\n          </template>\n          <template v-else>\n            <strong>{{ countdown }}</strong>\n          </template>\n        </div>\n      </Menu>\n      <Modal\n        title=\"Settings\"\n        v-model=\"contestSettingsModal\"\n        footer-hide\n        scrollable>\n        <Form>\n          <FormItem label=\"Show Practice\">\n            <i-switch v-model=\"showPractice\" />\n          </FormItem>\n          <FormItem label=\"Export\">\n            <Button @click=\"exportRank\" :loading=\"exportLoading\">Rank</Button>\n          </FormItem>\n        </Form>\n      </Modal>\n    </div>\n    <transition name=\"fade\" mode=\"out-in\">\n      <router-view />\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport { CONTEST_OPENNESS, CONTEST_STATUS } from '_u/constants';\nimport { s2hs } from '_u/transform';\n\nimport ContestProcess from '_c/contest/ContestProcess';\nimport Markdown from '_c/editor/Markdown';\n\nimport rankHandler from '@/store/modules/ranks';\n\nexport default {\n  name: 'ContestDetailView',\n  components: { Markdown, ContestProcess },\n  inject: ['reload'],\n  data: function() {\n    return {\n      contestSettingsModal: false,\n      contestSettingsForm: {\n        showPractice: false\n      },\n      exportLoading: false\n    }\n  },\n  filters: {\n    time2hour: diff => s2hs(diff)\n  },\n  computed: {\n    ...mapState('contest', ['contest', 'sliderTime']),\n    ...mapGetters('user', ['username']),\n    ...mapGetters('contest', [\n      'contestLoaded',\n      'hasParticipatedIn',\n      'contestStatus',\n      'contestStartTime',\n      'contestDuration',\n      'contestLoaded',\n      'contestMode',\n      'contestStarted',\n      'contestOpenness',\n      'countdown',\n      'scores'\n    ]),\n    showPractice: {\n      get: function() {\n        return this.$store.state.contest.settings.showPractice;\n      },\n      set: function(val) {\n        this.$store.dispatch('contest/settings', { showPractice: val })\n      }\n    },\n    CONTEST_OPENNESS: () => CONTEST_OPENNESS,\n    CONTEST_STATUS: () => CONTEST_STATUS\n  },\n  methods: {\n    exportRank: function() {\n      import('_u/excel').then(excel => {\n        this.exportLoading = true;\n        const ret = rankHandler[this.contestMode].exportScore(this.scores, this.contest.problems);\n        excel.export_json_to_excel({\n          ...ret,\n          filename: this.contest.contestTitle\n        });\n        this.exportLoading = false;\n      })\n    }\n  },\n  beforeCreate: function() {\n    this.$store.dispatch('contest/getContest', this.$route.params.contestId).catch(err => {\n      this.$Message.error(err.message);\n    });\n  },\n  beforeDestroy: function () {\n    this.$store.commit('contest/clearContest');\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @bgc: rgba(221,221,221, .15);\n  .contest__header {\n    margin-bottom: 24px;\n  }\n  .contest__title {\n    background-color: @bgc;\n    .title {\n      font-size: 20px;\n      font-weight: 600;\n    }\n    padding: 15px 15px 0 15px;\n    /*padding-bottom: 0;*/\n  }\n\n  .contest__float {\n    float: right;\n    position: relative;\n    right: 0;\n    top: 5px;\n  }\n\n  .contest__subtitle {\n    word-wrap: break-word;\n    word-break: break-all;\n    margin: 5px 5px 0;\n    font-size: 14px;\n    color: #aaa;\n  }\n  .contest__menu {\n    z-index: inherit;\n    background-color: @bgc;\n    .contest__countdown {\n      margin: 0;\n      margin-right: 15px;\n      float: right;\n      font-size: 20px;\n      font-weight: bold;\n    }\n  }\n\n  .fade-leave-active,\n  .fade-enter-active {\n    transition: all 0.23s;\n  }\n  .fade-enter {\n    opacity: 0;\n    transform: translateX(-30px);\n  }\n  .fade-leave-to {\n    opacity: 0;\n    transform: translateX(30px);\n  }\n  .hover-background i:hover {\n    border-radius: 3px;\n    background: rgba(0, 0, 0, .15);\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestDetailView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestDetailView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContestDetailView.vue?vue&type=template&id=3c70514d&scoped=true&\"\nimport script from \"./ContestDetailView.vue?vue&type=script&lang=js&\"\nexport * from \"./ContestDetailView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContestDetailView.vue?vue&type=style&index=0&id=3c70514d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c70514d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--14-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestDetailView.vue?vue&type=style&index=0&id=3c70514d&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--14-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContestDetailView.vue?vue&type=style&index=0&id=3c70514d&lang=less&scoped=true&\""],"sourceRoot":""}